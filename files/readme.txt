- v4.75.1 (21.10.08)
- Устранил баг: клиентская часть "Позволяет создавать больше одного активного ТТ." (клиент)
v1.4.2 (21.10.08)
- Добавил возможность отправлять e-mail-сообщение на дв адреса. (сервер)

v1.4.3 (22.10.08)
- исправил ляп : на второй адрес не отсылались письма при открытии ТТ и его закрытии. Все работает.
- При закрытии сервера в табл. ServInd обнуляется номер, занимаемый этим сервером при работе.

v4.75.2 (24.10.08)
- По-умолчанию при добавлении нового узла в класс ставится "1". Исправил - ставится "0".

v4.75.3 (27.10.08)
- Добавлено: при назначении бригады на выезд в кол-центр сервером будет отсылаться об этом уведомление.

v4.75.4 (05.11.08)
- Добавлено: подсветка цветом записей к ТТ в окне "Активные" (светло-зеленый - запись предназначина для отправки в КЦ, темнее зеленый - запись отправлена в КЦ).

v4.76 (13.11.08)
- Предложена возможность добавления и редактирования сервисов для ССС.
- Возможно редактировать справочные таблицы из клиентской части (Tools\Options...\Таблицы, только для admin-доступа);
- Добавлена кл. "Сервис" на закладке "База\Офисы Клиентов", дает возможность просмотреть все сервисы по клиенту.

v4.76.1 (17.11.08)
- добавлена возможность просматривать данные для ССС по двойному щелчку мыши на записи, как в закладке БАЗА, так и в закладке Troubl Ticket.
- Количество классов для Тех.Площадок увеличено до 5 (пяти).

v4.76.2 (18.11.08)
- Добавлена группа "Инженер ССС №1", для распредиления открытых ТТ.
- При переносе ТТ в "отложенные" необходимо указать помимо даты и времени, еще и причину переноса. При этом сервером будет отправляться информация о переносе в КЦ.
- исправил трабл с подвязкой устройств к клиенту (или наоборот ;))
v4.76.3 (21.11.08)
- Перевод ТТ в ОТЛОЖЕННЫЕ:
1 - первое это проверка, если у ТТ нет заявки SD то ставить галочку о отсылке
сообщения в контактцентр не надо.
2 - если в поле Причина не внесено  слова блинной минимум 10 символов, форма не
закрывается пишет "Внесите причину (основание)  для откладывания ТТ"

v4.76.4 (25.11.08, 27.11.08)
- изменены типы некоторых столбцов в таблице net_equip, что повлекло изменения в структуре программы. 
ПРЕДЫДУЩИЕ ВЕРСИИ РАБОТАТЬ НЕ БУДУТ!!!!
- при назначении ответственного за ТТ в КЦ будет отправляться письмо с соответствующей информацией.

v4.76.05 (28.11.08)
- При запуске старой версии выводится на экран информация, что версию надо обновить данная версия неработоспособна и по нажатию ОК, закрывается. 
- Если человек работает под версией 2 и тут она изменилась до уровня 3, то сделать запись стает невозможным и выводится сообщение что что версия программы устарела, обновите.

v4.76.06 (5.12.08)
- Исправлена ошибка: активный ТТ открывается 1) открыт ТТ "прием в эксплуатацию", 2) открыт ТТ "регламентный", и не открывается если открыт ТТ "активный".

v4.76.7 (15.12.08)
- Исправлена ошибка: если верси программы больше, чем в БД, то программа будет запускаться;
- Добавлено: на странице АВАРИЙКИ появилась кн. "авто на выезд" (доступна 5-ому уровню), которая дает возможность создать задачу на выезд автомобиля без привязки к ТТ. 

v4.76.8 (19.12.08)
- Для второго (2) уровня доступа добавлена возможность в АВАРИЙКАХ нажимать кнопку "Авто на выезд!";
- Убрал "трабл": при создании ТТ на странице "Добавление ТТ" в таблице не отображалась история ТТ для записи. Отображается!
- Добавил кнопку "Устройство" на странице "Офисы клиентов". Действие: отображает устройство подключения для выбранного офиса клиентов.

v4.76.9 (23.12.08)
- в закладке "Сетевые Устройства" при двойном щелчке мышью в таблице на записи "DW6000" и "iDirect" откроется уникальная для этих сетей информационная форма.

v4.76.10 (24.12.08)
- добавлен отчет по установленным спутниковым станциям за период времени. см. меню Report/Включено станций за период. И добавлен шаблон в директорию Report(CCC).doc
- При двойном щелчке мыши на записи в таблице "записи ТТ" появляется всплывающее окно с полной информацией по всем полям. (для улучшенного прочтения ;).
 
v4.76.11 (25.12.08)
- усовершенствован отчет по установленным и демонтированным(!) спутниковым станциям за период времени. Изменен шаблон для формирования отчета: Report(CCC).dot!
- добавлено поле SN (серийный номер) в технологию iDirect;
- поля: название в НМС, IP-адрес, серийный номер,спутник, тип антенны, инсталятор в закладке "Сетевые устройства" обязательны к заполнению!

v4.76.12 (26.12.08)
- добавлен отчет по регламентным работам: 'Report/Регламентные работы за период...', и добавлен шаблон Report(Regl).dot.

v4.76.13 (12.01.09)
1. Привлечение региональных групп к работе с БД.
НЕОБХОДИМО! добавить поля в таблицу "trubl_crew":
- money - int(7) => потраченные финансы;
- give_out - varchar(250) => кому и на что выданы деньги;
- overtime - int(3) => количество часов переработки;
- spend_equip - varchar(250) => израсходованное орудование (ЗИП).
  При составлении отчета (закладка "Аварийки") появились новые поля для заполнения: 1) потрачено гривен; 2) кому и на что выданы средства; 3) переработка часов; 4) использовано оборудование на устранение аварии; (числовые поля проверяются на ввод целого числа).
  В закладка "Все выезды" появились окна: 1) выданы средства (только level=5), 2) использовано оборудование, а в таблице - поля: 1) затрачено (только level=5), 2) переработано, которые отображают информацию из БД для выбранной из таблицы записи.
2. График почасовой статистики.
  В окне "Статистика" закладка "Загрузка" появились два новых графика: 1) "Активные ТТ" (открвтые ТТ, закрытые ТТ), 2) "Классы ТТ" (класс №1, 2остальные). Графики отображают информацию из БД  (таблица "tab_stat") за последних N часов (форма в нижнем правом углу).
3. Классы клиентов.
  В окне "База" закладка "Сервис" в таблице появилось поле "class", которое отображает класс клиента. Первый (1) класс - клиенты из файла "ТОП Датагруп.doc", все остальные - нулевой (0) класс.
  Технически присвоение класса записи реализовано так: при формировании таблицы проверяется поле "klient" (таблица "zaporozhie") на наличие в фразе "уникального слова", если ДА, то - class=1, иначе - class=0 (файл с клиентами и "уникальными словами" к ним прилагается). Однако, клиентв под №№3, 15, 16, 22 остались без "уникальных слов", просьба определить слово (или неразрывная фраза) и выслать. 

v4.76.14 (12.01.09)
- для уровня доступа №4 открыта позможность формировать заявку на выезд аварийной бригады.
- оптимизировал списки при формировании отчета для аварийных бригад.

v4.76.15 (14.01.09)
- в закладке "Офисы клиентов" при добавлении/редактировании записи поле "Привязка" стал обязательным к заполнению;
- при добавлении оборудования для сетей "DW6000", "iDirect" выпадающее поле "Инсталятор" можно дополнять фамилиями инженеров. Меню "Tools/Options.../Бригады/Ввести инсталятора спутниковых станций" в поле "ФИО" носится фамилия, кн. "Ок" добавляет инсталятора в список. В БД Klients добавлена таблица: tab_installer = {id, name};
- В меню "Show" появилось два подменю: "DW6000...", "iDirect..." для визуализации установленных спутниковых станций;
- В закладке "Сервис" при добавлении/редактировании поле "Клиент+Адрес" разбит на три поля: "Клиент", "Населенный пункт", "Адрес".

v4.76.16 (15.01.09)
- Закладка "Аварийки" в секции "выбор бригады" при выборе в первом поле "ВСЕ" во втором поле появится список всех бригад ДАТАГРУП;
- При назначении бригады на выезд (закладки "Активные", "Отложенные") анализируется секция "Выбор зоны ответственности" первое поле. Если в нем выбрано "Дежурная смена" или "Дежурная смена (СШС)" или "Дежурная смена (ССС)", то назначить бригаду получится, иначе система предложит определиться с сектором. Эта информация будет сохранена и доступна в записи на выезд бригады (таблица trubl_crew);
- При написании отчета по выезду бригады (закладка "Аварийки") появилос поле "Категория поломки" (выбирается из списка, актуальна для ССС);
- Закладка "Все выездв" в секции "сортировака" модно задавать промежуток времени (по умолчанию = 2 недели) для вывода записей по бригадам, клиенту и номеру ТТ.

v4.76.17 (19.01.09)
- добавлено "вычисляемое" поле 'Class' в закладки "Сервис" и "Активные", которое отображает класс клиента.

v1.4.5 (22.01.09)
Серверная часть:
1.Введение в таблицу crew поля в которое будут записаны email адреса. По этим адресам будет отсылаться email с сообщением о поставленной задаче ( согласно шаблона) Email адресов может быть несколько, вводятся они через ";"
2.Модернизация серверной части, добавления процесса отправки email сообщения, адресам находящимся в поле из пункта 5. Единоразовая отсылка email, о поставленной задаче и ее сути по шаблону написанному внизу,

Шаблон ( привожу поля из trubl_crew):
Тема письм: Task [Num_trubl]
Тело письма:
[Klient]
[zadanie]
[dt_open]
 
v4.76.18 (22.01.09)
- закладка "Аварийки", отчет:
1.Проверка на корркетность ввода даты времени начала и окончания работ, они не должны быть равны, датавремя окончания работ "больше" чем дата время начала работ.
2.Проверка на обязательность ввода полей состав бригады, все три поля должны быть заполнены. ( если инженер ездил сам он должен будет вписать в оставшиеся поля слово "нет".) 
3.Проверка на обязательность ввода отчета в поле "отчет", больше или равно 25 символам.
4.Если поле "Потрачено грн" не равно "0" то обязательно должно быть саполнено поле "Кому и на что выданы средства" больше 9 символов

v4.76.19 (26.01.09)
1. Когда Задача передается  от группы к группе, об этом не фиксируется информация в ТТ, Можем сделать что бы при передаче выездной задачи  от группы к группе, в ТТ фиксировалось что задача передана от группы А группе Б передал такой то  основание такое-то.
2. Отсылка сообщения  об отмене задачи на адресатов с информацией что задача номер такая то отменена, таким то человеком на таком то основании.
3.Отсылка сообщения адресатам группы А и группы Б о том что такая то задача (в теле письма обязательно указывать  задачу согласно шаблона) передана от группы такой то группе такой то основание такое то. Передал такой то ФИО.

v4.76.20 (27.01.09)
- устранил "пробоину" в системе: при закрытии ТТ? и добавлении записи к ТТ проверяется наличие выбранной записи для закрытия/добавления.

v4.76.21 (28.01.09)
- добавил проверку полей "название", "город", "адрес" на заполнение информацией при вводе новой Тех.Площадки/ редактировании.

v4.76.22 (30.01.09)
- добавлена проверка на Странице "База" выбора в таблице записи: если таблица пустая, то и действий выполняться не будет, а появится соответствующее предупреждение. 

v4.76.23 (30.01.09)
- добавил для каждой таблицы на странице "База" при создпнии/редактировании записи будет фиксироваться время.

v4.76.24 (09.02.09)
- Исправлено дублирование номеров ТТ при подчинении в закладке "регламентные".
- Добавлена в отчет авариек  галочку «дежурный», над кнопкой Ок.(по умолчанию галочка не отмечена)
- Сделано: с помощью галочки в таблице "crew" поле 'on_duty', можно отмечать что такая группа недоступна (=1).
Если галочка недоступности стоит, значит группа недоступна, в поле постановки  задачи (в выпадающем списке), группа перемещается в самый низ и становится ниже  черты – Недоступны – .
- Добавлена таблица "tab_breakdown" в которой хранится информация о катигориях поломки в отчете авариек. (сортирetncz по алфавиту).
- Доработал проверку даты закрытия (дата закрытия больше даты открытия).

v1.4.7 (09.02.09)
- Модернизация сервера: добавил в шаблон отсылаемых писем о постановке задачи, внизу строчку, которая обозначит по какому сектору эта задача:
Если  «Дежурная смена»  в письме проставить «Задача по наземному сегменту»
Если Дежурная смена ССС – «Задача по спутниковому сегменту»
Если Дежурная смена СШС – «Задача по радио сегменту»

v4.76.25 (11.02.09) 
- В тех площадках можно пожвязывать директорию с формуляром, а не файл.
- при назначении бригады на выезд, в форме поле название бригад будет обнуляться.
- при поиске ТТ, если ТТ отложен, то эта информация добавляется к состиянию ТТ .

v4.77 (16.02.09)
- в меню Edit добавлен подпункт "Управление выездными группами" - в появившемся окне можно выставить период недоступности той или иной выездной группы, а также можно просмотреть всю историю когда и сколько та или иная группа была недоступна.
- в серверной части (v1.4.8) происходит анализ недоступности (проставляются и убираются метки), и отсылаются письма (адреса из списка 'Crew') о недоступности группы.
- Переведены формирование отчетов с MS Word на OpenOffice.Writer для: "Наряд на работу" (Work_card.doc), "Отчет ночной/дневной сменны" (Report.doc), "Установленно станций для ССС" (Report(CCC).doc).

v4.77.01 (17.02.09)
- просмотр паспортов НС происходит в OpenOffice.Writer;
- в причину отсутствия выездной группы автоматически добавляется ФИО, пошущего сообщение.

v4.77.02 (19.02.09)
- исправил ошибку при открытии ТТ (при открытом регламентном ТТ блокировалось открытие активного ТТ).
- в таблицу zapisi_trubl_tic добавлено поле transition.

v4.77.03 (23.02.09)
- добавлена возмодность смены состояний ТТ.

v4.77.04 (24.02.09)
- добавлено: при редактировании узлов на карте можно выбирать цвет узла и, соответственно, узлы могут отображаться на карте различными цветами.

v4.77.05 (25.02.09)
- При назначении "Аварийка на выезд!" при выборе бригады из списка, для недоступных бригад в подказке (поле Hint) отобразится причина отсутствия бригады.

v4.77.06 (26.02.09)
- Добавлен анализ пути к директории с подвязанным файлом, для возможности отобразить его в OpenOffice.

v4.77.07 (26.02.09)
- добавлен пункт меню "Отчет по сем станциям" для спутникового сектора.

v4.77.08 (03.03.09)
- изменился порядок сортировки ТТ в окне АКТИВНЫЕ: по времени, в порядке убывания. Класс клиента выдиляется цветом.
- исправлена ошибка: при открытом тестовом ТТ можно открвать активный ТТ.

v4.77.09 (04.03.09)
- добавлено: для СШС в Сетевых Устройствах возможно добавлять инсталятора и принимающего инженера.
- добавлено: в Офисах Клиентов при выборе в "последняя миля"='радио' в Тех.схеме появляется три строки: широта, долгота, высота подвеса.

v4.77.10 (09.03.09)
- привязка офиса клиентов к оборудованию для СШС происходит при выборе "последняя миля"='радио' и "город"= 'название города', все оборудование сваливается в кучу по алфавиту.
- при просмотре информаци о ТТ (в окне Активные, двойной щелчек) для Офисов Клиентов добавил информацию о сервисах : тип сервиса + мениеджер.

v4.77.11 (10.03.09)
- добавлена кнопка "class" - сортирует записи 'первого класса'.
- запретил редактировать поля ГОРОД, УЛИЦА, ПРИВЯЗКА, КЛИЕНТ, ОБОРУДОАНИЕ (где необходимо выбирать из списка) при добавлении/редактировании оборудования, офиса.

v4.77.12 (15.03.09)
- добавлено в табл. 'net_equip' поле "in_expl"=Date. 

v4.77.13 (16.03.09)
- добавлено в таблицы 'net_links', 'office_kli', 'net_data' поле "in_exp"=Date.

v4.77.14 (16.03.09)
- изменено поле "in_expl" на "in_exp" в таблице 'net_equip'.

v4.77.15 (17.03.09)
- добавил возможность создавать отчет в OpenOffice.Writer по регламентным работам, Шаблон = Report(Regl).doc

v4.77.16 (17.03.09)
- добавлена корректная работа с сетью 'DW1000' для ССС.

v4.77.17 (17.03.09)
- добавлена корректная работа с сетью 'DATUM' и 'SkyOne' для ССС.

v4.77.18 (17.03.09)
- в зкаладке 'Сетевые Устройства' записи с статусом='отказ' подсвечиваются красным цветом.

v1.4.9 (18.03.09)
- добавлено: отсылает предупреждения 1 раз в неделю (выставляется ini-файле, поля WeekDay - день недели (1-7), wTime - время отправки письма) аварийным группам о необходимости написать отчет.

v4.77.19 (22.03.09)
- изменен IP адрес для доступа к planer(у).

v5.00 (23.03.09)
- В заклаке БАЗА появилось две закладки (вертикальные): земля, спутник. Для удобства работы ССС.
- в закладке Аварийки при написании отчета анализируется ввод символов: ", {, }.

v5.01 (23.03.09)
- изменил структуру отчета для Регламентных работ: 1) добавил поля - start_dt=text - время подачи заявки, - addres=text - обект заявки; 2) изменил файл Report(Regl).doc.

v5.01.01 (25.03.09)
- исправил ошибку при добавлении клиента в закладке спутник/клиенты.

v5.01.02 (25.03.09)
- подправил метод внесения кодов смен состояний ТТ в записи ТТ.

v5.01.03 (26.03.09)
- подправил ввод даты в поле 'прием в эксплуатацию', теперь там шаблон: __.__.____
- в закладке Сетевые Устройства появилось поле привязка = {узел, офис}. При выборе 'привязки', затем 'города' в поле 'подвязать к ...' будет список из узлов или офисов в выбранном городе.

v5.01.04 (27.03.09)
- подправил ввод даты в поле 'прием в эксплуатацию', через специализированую компоненту DateTimePicker.
 
v5.01.05 (30.03.09)
- провел оптимизацию подгружаемых данных программой KlientsDB с БД Klients.

v5.01.06 (31.03.09)
- подправил ошибку при добавлении клиента в закладке Спутник/Клиенты.

v5.01.06 (1.04.09)
- заменил компонент Edit на DateTimePicker на странице Спутник/Клиенты, была проблема с сохранением даты.

v5.02 (2.04.09)
- поменял способ вывода данных в таблицу Спутник/Клиенты, вывод Устройств в закладк Офисы Клиентов.

v5.02.01 (3.04.09)
- изменил анализ при открытия ТТ: если устройство, линк надо прорисовывать, то state:=1(2).
- закладка Клиенты, поле "демонтаж" появляется при выборе сотояния "отказ" или "отключен за неуплату" с подставлением текущей  даты.

v5.02.02 (6.04.09)
- подправил формирование отчета для ССС, в связи с проведенными изменениями в структуре таблиц.

v5.03 (8.04.09)
- добавил поле out_exp:date в таблицы: net_equip, net_links, office_kli, net_data.
- поле в клиенте обновляется автоматически по схеме:
* при установке состояния "тестовая эксплуатация", в поле in_exp фиксируем текущую дату.
* при установке состояния "в эксплуатации", в поле in_exp фиксируем текущую дату, поверх предыдущей.
* при установке состояния "выведено из эксплуатации", в поле out_exp фиксируем текущую дату.
* при установке состояния "демонтировано", в поле out_exp фиксируем текущую дату, поверх предыдущей.
- изменил отчет для СШС, теперь записи в "тестовой эксплуатации" не включаются в отчет.

v5.03.01 (12.04.09)
- в таблицах добавлена возможность просмотреть дату ввода в эксплуатацию
 а) по двойному щелчку на записи
 б) при добавлении / редактировании записи.
- изменять дату ввода в эксплуатацию можно только level=5.

v5.04 (13.04.09)
- В таблицу tblinform2 добавлены поля in_exp, out_exp - ввод и вывод из эксплуатации.
- поля обновляюится в программе автоматически, обновлять может только level=5.
- В таблицу net_equip добавлено поле invent_num - инвентарный номер оборудования.

v5.05 (14.04.09)
- добавлен отчет для СШС, который формируется автоматически в OpenOffice.Calc, меню 'Report\Отчет за сутки для СШС':
a) формируется таблица по активным ТТ;
б) формируется таблица по закрытым ТТ за прошедшие сутки, т.е. 02.01.2010 в 00:01 можно будет сформировать отчет за 01.01.2010.

v5.05.01 (15.04.09)
- добавлена возможность просматривать поле out_exp, как в редакторской форме, так и в просмотровой форме (при двойном щелчке).

v5.06 (22.04.09)
- данные из таблицы radio_bs мигрировали в таблицу net_equip. клиент не работает с таблицей radio_bs.

v5.06.01 (23.04.09)
- изменения в закладке Спутник/Клиенты:
а) заменена фильтрация на поиск. Выбирается критерий (Область, Город, Улица, Клиент, Станция) или несколько критериев или все критерии, в поле "поиск" пишется слово (фраза), жмем Enter и получаем в результате искомый набор клиентов.
б) результат поиска можно скопировать в ClipBoard (меню Edit/Copy), а затем вставить в OpenOffice.Calc.

v5.07 (26.04.09)
- добавлена возможность выбирать клиентов по заданным критериям (Город, Тип сети, БС, Сектор БС, Сервис) для СШС. Пунк меню "Report/Выборка клиентов...".

v5.08 (28.04.09)
- На закладке Trouble Ticket/Аварийки добавил кнопку: «Новая Задача», для постановки задачи без привязки к ТТ

- На закладке Trouble Ticket/Аварийки приоритетов сделал 5: высший, высокий, нормальный, низкий, низший. На форме вводить текст запрещено. Приоритет выбираем из списка выше - "высший, высокий, нормальный, низкий, низший". По  умолчанию - "нормальный". Для задачь, которые бригады ставят сами себе - "низкий".
Значения: 
высший - ЧП! Все бросаем, занимаемся только этим!
высокий - авария, повреждение (в т.ч. угроза) сетевого уровня, группы сервисов
нормальный - авария, повреждение единичного сервиса
низкий - локальная задача в РУ, задача посмотреть, проверить, профилактические работы, т.п.
низший - демонтаж, привезти, увезти, т.п. Делаем в последнюю очередь, при возможности по ходу других задач 
 
- Закладка База/Сетевые устройства кнопки «добавить и редактировать запись»: в поле «Статус устройства» запрещено писать произвольный текст, выбор из списка ! 

- При создании ТТ:  в поле тип ТТ, запрещено вводить любой текст, возможно выбирать значение из списка. Добавлена таблица category_type_tt.

- В форму создания ТТ  вынес поля выбора зоны ответственности: По умолчанию они равны той же зоне ответственности, которая выбрана в главном окне.

- Запрещено создание ТТ, если не выбрана зона ответственности (например, выбрано "ВСЕ" - "ВСЕ" или "Сектор такойто" - "а второй критерий не выбран").

- При передаче ТТ от зоны ответственности к зоне ответственности, фиксируется (поле  used_id) Кодовое слово зоны ответственности.

- В заяве на регламентные работы текст «Заявка на регламентные» заменен на  «Плановые работы, заявка». 

- Закладка Регламентные, переименована в закладку «Плановые»

- Слово "регламентные" везде поменял на "плановые".
 
v5.08.01 (30.04.09)
- сделал откат: При создании ТТ, в поле тип ТТ данные прописаны программно, таблица category_type_tt никак не задействована.

v5.08.02 (05.05.09)
- откат отменен. (см. предыдущую версию)
- Изменения в "Тех.площадках" направлены на стабилизацию, при создании записи.

v5.08.03 (07.05.09)
- приоритет в таблице на закладке АВАРИЙКИ выводится словом (а не цифрой).

v5.08.04 (07.05.09)
- Для ССС (закладка "Спутник/Клиенты") при создании записи с статустом "тестовая эксплуатация" - тестовый ТТ создается только  для Офиса Клиентов.

v5.08.05 (07.05.09)
- устранил последнюю брешь (надеюсь) возмодности добавлять Устройство из справочника с пробелом поред названием.
 
v5.08.06 (07.05.09)
- в закладке Аварийки в Таблице выездов по щелчку правой кнопки мыши появится меню, котором можно выбрать "Показать все ТТ для клиента".
- в Активных в Таблице ТТ  по щелчку правой кнопки мыши появится меню, котором можно выбрать "Показать все ТТ для клиента".

v5.08.07 (07.05.09)
- исправил проблему, которая возникла при переходе от "регламентных" к "плановым" работам.

v5.08.08 (08.05.09)
- для сетей WiPLL и OFDM поле "Номер БС" будет заполняться автоматически из названия устройства в НМС.
  (название нмс site10007 Chaika -> Номер БС 10007  , пять знаков после слова site)
- для сетей WiPLL и OFDM поле частота переименовуется в Channel Num.
- Для Wipll поле ID-сектора - неактивное
- Для OFDM поле AIRMAC - неактивное
- в список Полоса (МГц) добавил значение = 1.5.

v5.08.09 (08.05.09)
- исправил проблему, которая возникла при переходе от "регламентных" к "плановым" работам (проблема с подчинением ТТ в закладке Плановые).

v5.08.10 (08.05.09)
- исправил ошибку: "нет возможности посмотреть паспорт на НС в активных ТТ".

v5.08.11 (12.05.09)
- исправил ошибку: "Все плановые ТТ отображаются как в закладке Активные, так и в закладке Плановые". Отображаются только в зак-ке Плановые.
- При постановке выезда "выездными группами" приоритет ТТ = 2 (был =5).

v5.08.12 (14.05.09)
- По всей системе KlientsDB поменял слово "тестовая" на "тестовая эксплуатация".

v5.09 (18.05.09)
- Для гибкости работы с формированием зон ответственности СЭ созданы две таблицы sector_resp (сектор ответственности) и area_resp (зона ответственности) в БД Klients. С этой версии клиентская часть работает с этими таблицами.

v5.10 (19.05.09)
- поменял метод шифрования пароля (стал MD5) для доступа к программе KlientsDB.
дополнение (21.05.09)
- изменился порядок нумерации для зон ответственности - xx.yy.zzzz: xx - сектор, yy - группа, zzzz - порядковый номер работника СЭ. Соответствующие изменения проведены в KlientsDB.

v5.10.01 (22.05.09)
- При формировании отчета для ССС изменен критерий определения демонтированных станций = "демонтировано".

v5.10.02 (26.05.09)
- исправлена ошибка при выводе даты ввода в эксплуатацию для ССС.

v5.10.03 (27.05.09)
- исправил ошибку на закладке Спутник/Клиенты, когда Date_of_add затиралось значением поля last_edit.
- возобновил отображение ответственных за ТТ в таблице на закладке "Активные" (в связи на новую номирацию зон ответственнсти).

v5.10.04 (28.05.09)
- подправил шаблонные номера групп в KlientsDB для автоматического распределения ТТ.

v5.10.05 (29.05.09)
- исправил ошибку при создании отчета для СНС.
- подправил вывод статистики на странице Статистика/Нагрузка.

v5.10.06 (29.05.09)
- Изменен процесс автоматического создания ТТ при фиксации заявки о регламентных работах: ТТ автоматически назначается на выбранную в клиенте зону (группу) ответственности, соответственно если не выбрана зона ответственности при нажатии кнопки добавить запись появляется предупреждение - "Определите группу ответственную за ТТ.". 

v5.10.07 (06.06.09)
- при закрытии любого "материнского" ТТ во все "подчиненные" ему ТТ будет добавлятся запись с данными: № "материнского" ТТ, время и причина закрытия.
- в закладке "Поиск ТТ" появилась кнопка "Вывести из подчинения", которая выводит из подчинения ТТ.

v5.10.08 (16/06/09)
- При выводе из подчинения к ТТ добавляется запись: когда, от какого ТТ и кто его отцепил.

v1.4.10 (17.06.09) - сервер
- Добавил "процесс эскалации ТТ": проверяются ТТ у которых время решения превышает допустимый порог и отсылается письмо о проблеме на заинтересованных лиц.

v1.4.11 (18.06.09) - сервер
- подправил шаблон отсылки писем эскалации 
- Отработка эскалаций (строк в таблице tab_escalation) происходит строго по возрастанию порога срабатывания, то есть сначала меньший порог потом больший.

v1.4.12 (20.06.09) - сервер
- В поле sector табл. tab_escalation вносится номер сектора (табл. resp_sector), группы (табл. resp_area), рабочего места (табл. expworkers) через точку с запятой. Сервер автоматически распознает из какой таблицы номер введен. 

v1.4.12a (22.06.09) - сервер
-  эскалация ТТ считается с времени открытия ТТ, т.е. с поля date_of_open.

v1.4.13 (23.06.09) - сервер
- Эскалация ТТ : при подсчете премени "активности" ТТ учитывается время, когда ТТ было в отложенных, т.е. от общего времени открытия ТТ вычитается суммарное время пребывания ТТ в отложенных.

v5.10 09 (24.06.09)
- Данные в табл. tab_escalation можно вносить в KlientsDB, меню Tools/Options..., закладка "Эскалация".

v5.10.10 (29.06.06)
- в таблицу tblinform2 добавлено поле el_autonomy_t, формат TIME. В клиенте заменено все использования поля el_autonomy на el_autonomy_t.
- исправлена ошибка при вызове окна работы с тестовыми ТТ (щелчек пр. мышки на ТТ "тестовая эксплуатация").

v5.10.10a (01.07.09)
- в таблицу tblinform2 добавлено поле el_autonomy_d, формат DECIMAL(4,2). Время автономности (в часах) ТП, если = 0, то отсутствует UPS, а если = -1, то отсутствуют данные об автономности ТП.

v5.10.11 (3.07.09)
- Исправлена ошибка при добавлении доступа новому сотруднику к системе. Связана она с добавлением в табл. tab_access новых полей: al_web, email, activated.
- в окне "Отложить до" время и дата вводятся поле-шаблон.

v5.10.12 (3.07.09)
- иправил ошибку связанную с подвязкой документов к ТП.

v5.10.13 (6.07.09)
- при изменении в "материнском" ТТ статуса на "уведомление", "подчиненные" ТТ будут закрыты или переданы оператору, но предварительно необходимо заполнить поля появившейся формы.
- при закрытии ТТ: дата закрытия не должна превышать текущую дату.

v5.10.14 (7.07.09)
- изменил форму-ввода для изменения статуса "материнского" ТТ.

v1.4.14 (8.07.09) - сервер
- при эскалации ТТ автоматически добавляется к нему запись.

v1.5 (9.07.09) - сервер
- изменен логин/парол доступа к БД Klients (login : serverklients, password : *******).

v1.5.1 (9.07.09) - сервер
- Эскалация не распространяется на ТТ с буквой 'У' при открытии их с типом ТТ «по ошибке нмс» и «по обращению клиента».

v5.10.15 (13.07.09)
- Из табл. net_equip удалено поле type_net, из клиентской программы удалена работа с этим полем. 

v5.10.16 (13.07.09)
- Добавил кнопку "Бригада на выезд!" в закладке Trubl Ticket/Плановые.

v5.10.17 (13.07.09)
- На закладке База/Тех.Площадки добавлена проверка при добавлении/редактировании узла на добавление класса ТП.

v5.10.18 (14.07.09)
- Из табл. tblInform2 удалены поля: id, sh_passage, sh_passage_boo, sh_node, sh_node_boo, full_address, access_list_boo, full_access, balance, condition_boo, cond_contract_boo, full_cond, el_boo, full_el, el_autonomy, signalling_boo, monitoring_boo, full_signalling. Версия работает стабильно, предыдущие версии работать стабильно не будут.

v5.10.19 (15.07.09)
- Добавлено поле el_power_d в табл. tblInform2, а el_power - удаляется.
- Переименовано поле access_boo в access_mode в табл. tblInform2,  (режим доступа). 
- Создана таблица tab_access_mode: ( id tynyint(1),    access_mode varchar(25) ) со значениями:
1                    24х7, независимо
2                    24х7, сопровождение
3                    8х5, независимо
4                    8х5, сопровождение
5                    другой.
- Эта таблица связана с полем access_mode в табл. tblInform2.
- Создана таблица tab_lease_category: ( id tynyint(1),    lease_category varchar(25) ) со значениями:
1                    УкрТелеКом
2                    Датагруп
3                    Сторонняя организация
4                    у Клиента
5                    Субпровайдер.
- Эта таблица связана с полями lease_category и cond_owner в табл. tblInform2.
- Создана таблица tab_condition_category: ( id tynyint(1),    condition_category varchar(25) ) со значениями:
1                    кондиционер
2                    вытяжной
3                    продувной
4                    комбинированный
5                    отсутствует.
- Эта таблица связана с полем condition в табл. tblInform2.

v5.10.20 (16.07.09)
- На форме Insert/Edit 'Тех.Площадок' поменял все CheckBox-ы на выбор из списка = {естьб нетб нет данных}.
- Дату вывода из эксплуатации можно редактировать в форме Insert/Edit 'Тех.Площадок' (только level=5).

v5.10.21 (17.07.09)
- Тех.Площадки : ссылки на документацию для Формуляра, Электропитания и Кондиционирования выведены в окна Редактирования и Просмотра. А окне редактирования при нажатии кн. "+" будут сохранено в БД ссылка из поля редактирования или предложит выбрать папку с документацией и сохранит путь в БД. В окне просмотра можно копировать путь или URL из поля редактирования и при понажатии кн. "-->" программа проверит: если ссылка начинается с "http" или "www" - то откроет IE, иначе попытается открыть через проводник.

v5.10.22 (17.07.09)
- Исправлена ошибка: появлялась при попытке посмотреть информацию о ТП из окна База/Активные.

v5.10.23 (20.07.09)
- Исправлена ошибка: не верно назначался выезд бригады на закладке База\Плановые.

v5.10.24 (20.07.09)
- В таблице trubl, добавлено поле type_trubl_d INT(3). На него подвязано поле id из таблицы category_type_tt. В клиенте, показывается список значений поля type_tt, в таблицу пишем id. Поле type_trubl удаляем.
- Добавлено поле type INT(3) в таблице trubl_crew, подвязанное на ту же category_type_tt. Когда выезд создается из тт, пишем в trubl_crew.type значение type_trubl_d из тт. Когда выезд создается бригадой самостоятельно, оставляем поле доступным для выбора значения. Выбор обязателен.

v1.5.2 (20.07.09) - сервер
- Версия подготовлена в связи с удалением поля type_trubl из табл. trubl.
- Изменен порядок ввода информации в поле typeTT из табл. tab_escalation: надо вводит не текст, а порядковые номера типов тт из табл. category_type_tt. Напр., typeTT = '2;3;5;'.

v5.11 (21.07.09)
- Изменен принцип поиска на всех закладках страницы БАЗА, без использования поля с неприличным названием.

v5.11.1 (21.07.09)
- Исправлена ошибка: появлялась при назначении ответственного за ТТ (связан с удалением поля type_trubl).

v5.11.2 (21.07.09)
- Поиск в закладке БАЗА модернезирован: происходит без учета регистра.

v5.11.3 (21.07.09)
- Исправлена ошибка: связаны с поиском на закладке БАЗА/Сервис и БАЗА/Тех.Площадки.

v5.11.4 (22.07.09)
- Убрал кнопку "Авто на выезд" в форме по адресу "Trouble-Ticket" ->Аварийки.
- Кнопка "Новая задача" в форме по адресу "Trouble-Ticket" ->Аварийки доступна на 1, 2 и 5 уровнях доступа.
v5.11.5 (22.07.09)
- Исправил ошибку: при создании ТТ в закладке "Добавление ТТ" тип = 'тестовая эксплуатация'  в поле 'description' (табл. trubl) будет  писаться значение поля "Описание".
- Исправлена ошибка: при создании плановых работ, в автоматически создающемся ТТ поменял значение поля type_trubl_d = 11 (был = 5).

v5.11.6 (23.07.09)
- Исправил ошибку: стр. Collocation - поиск без учета регистра и Insert/Edit происходит без ошибки.
- Исправил ошибку: при формировании отчета ночного/дневного ошибка не появляется.

v5.11.7 (23.07.09)
- Добавлена проверка поля "Тип ТТ" в закладке "Добавление ТТ" на зполненность. При создании ТТ из любой закладки стр. "БАЗА" это поле поустое, по-умолчанию.

v5.11.8 (23.07.09)
- Исправил ошибку: доступ к меню тестовая эскплуатация - открыта.

v5.11.9 (24.07.09)
- Исправил ошибку: сортировка по критерию "Статус" и "Владелец" работают корректно.

v5.11.10 (27.07.09)
- Исправлена ошибка: при добавлении новой ТП - добавлени происходит нормально.
- По клику на заголовке поля таблицы в ТП сделана сортировк 'по возрастанию' или 'по убыванию'. 

v5.11.11 (28.07.09)
- Упорядочил перемещение фокуса по кнопке ТАБ на закладке "БАЗА \ Аварийки".

v5.11.12 (28.07.09)
- Cделан ступенчатый фильтр в формах ввода: Земля/ТехюПлощадки, Земля/ОфисыКлиентов, Спутник/Клиенты, так, что при выборе страны показывается только ее области, при выборе области - только НП из нее.
- Добавить города, области в KlientsDB можно по адресу: Tools/Option../Таблицы.

v5.11.13 (29.07.09)
- делал изменеия при формировании первичных данных в окнах Ввода/Редактирования (Земля/ТехюПлощадки, Земля/ОфисыКлиентов, Спутник/Клиенты) ступенчатый фильтр аналогично подстраивается.

v5.11.14 (30.07.09)
- Исправил ошибку: при добавлении нового сервиса невозможно было добавить офисы (А и Б), не работал поск (связано с удалением поля с непреличным назанием).

v5.11.15 (31.07.09)
- При операции "Отложить ТТ" анализируется: время до которого ТТ отлаживается не может быть меньше, чем момент нажатия кн. Отложить.

v1.5.3 (3.08.09)
- Поставил проверку при  эскалации:   проверяем до какого времени отложено ТТ, если оно меньше текущего то включаем в суммирование, иначе - нет.

v5.11.16 (4.08.09)
- Исправил ошибку: невозможно было создать ТТ для ТП (связано с удалением полей addr_area, addr_town).

v5.12 (5.08.09)
- Оптимизирована работа с геграфическими названиями (страна, область, город). Удалены поля addr_area, addr_town в табл. tblinform2, и поля country, region, town в табл. office_kli.

v5.12.1 (6.08.09)
- Оптимизирована работа с географическими названиями - удалил поле addr_node в табл. net_equip.

v5.12.2 (10.08.09)
- Для 2-го уровня доступа открыт пункт Меню 'Tools/Options' и закладка "Таблицы". Появиласть возможность добавлять/удалять данные в информационных (города, сети, ...) таблицах.

v5.12.3 (10.08.09)
- SQL-запрос к таблице office_kli происходит по строго заданному списку полей.
- Создано поле town_ua в табл. tab_town.
- В БД Klients создано представление view_town. При поиске, добавлении/изменении в табл. tblinform2, office_kli информация черпается из этого представления.

v5.12.4 (11.08.09)
- При добавлении нового города (Tools/Options.../Таблицы) добавлена возможность вносить украинский вариант названия города.
- Исправлена ошибка: при закрытии СУ не верно формировался SQL-запрос. На правильность внесения данных ошибка никак не влияла.

v5.12.5 (11.08.09)
- Исправил ошибку: при добавлении/редактировании СУ проверяестя подвязано ли устройство к узлу/офису.

v5.12.6 (11.08.09)
- Исправлена ошибка: при добавлении/редактировании невозможно было добавить офиссы (ни А ни Б), связанно с "геогрфической" революцией клиента.

v5.12.7 (12.08.09)
- Исправлена ошибка: невозможно было создать ОК для наземного отдела. 

v5.12.8 (16.08.09)
- Исправлена ошибка: не открывалась форма "Прием в эксплуатацию", связанно с "геогрфической" революцией клиента.

v5.13 (17.08.09)
- Подготовлена для работы с расширенным набором полей табл. collocation, и для ввода данных под новую структуру работы с клиентами колокайшн.

v5.13.1 (18.08.09)
- Закладка Collocation полностью готова для работы с новым набором данных.
- При добавлении новых станций в закладке Спутник/Клиенты появлялись дубляжи записей, исправил принцип сохранения данных в таблицы, должно помоч.

v5.13.2 (20.08.09)
- В табл. Collocation добавлены поля ray2_el, phase2_el , будут содержать параметры резервного питания.
- По двойном щелчке на записи (или ТТ) отобразится информация по всем новым (добавленным) полям табл. Collocation.

v5.13.3 (21.08.09)
- В закладке Спутник/Клиенты при добавлении/изменении проверяется: пусто ли поле "город" - это поле должно быть заполнено.
- Из табл. tblinform2 удалены поля change_time, change_date и el_power, соответственно в KlientsDB эти поля удалены.

v5.13.4 (21.08.09)
- В закладке Collocation сделал отображение полей klient, date_of_start (будут удаляться в дальнейшем) - это необходимо для приведения всех данных колокашин к новой структуре.

v5.13.5 (25.08.09)
- В табл. net_equip добавлено поле "status_equip", необходимо для ССС.
- В закладке Спутник/Клиенты при редактировании/добавлении записи  добавлено поле "Собственность оборудования", обязательно для заполнения.

v5.13.6 (30.08.09)
- Закладка Collocation полностью готова для работы с новым набором данных.
- Добавил поля country_id и area_id в таблицы tblinform2 и office_kli.
- В табл. tblinform2, ряд полей "цифровизировано", т.е. поля содержащие информацию заменены на поля-ссылки на таблицу с информацией:
 a) добавлено поле condition_category =  tab_condition_category.id, поле condition удалено из программы
 b) добавлено поле status_d = tab_status.id, поле status удалено из программы
 c) добавлено поле lease_category_d = tab_lease_category.id, поле lease_category удалено из программы.
- В табл. tblinform2 содержимое поля access скопировано в поле node_memo, Тех.Площадках при insert/edit удалено поле "примечание", поле access удалено из программы.

v1.5.4 (30.08.09) - сервер
- Добавил таблицу tab_escalation_rules
- Правила пишутся по одному на запись. Правила разбиваются на несколько элементарных, где указывается один сектор, один тип ТТ, один получатель.
- Поле porog не уникальное.  В ТТ значение отработанного порога записывается в поле esc_level, т.е. записанный в ТТ порог означает, что все правила по этому порогу для этого ТТ были выполнены.
- Эскалатор достает email из tab_access по значению поля user.
- Для построения письма-уведомления эскалатор использует шаблон вида:
===
Subject: Эскалация ТТ № <!--$TTNUM-->, открыт более <!--$POROG--> ч.
From: osdb-escalator-noreply@datagroup.ua
To: <!--$TO-->
Format: TEXT
 
Внимание! ТТ № <!--$TTNUM-->, открыт более <!--$POROG--> ч.
<!--$OBJECT-->
 
Эскалатор БДСЭ.
===

v5.13.7 (1.09.09)
- Закладка Спутник/Клиенты при Insert/Edit записи поля "страна", "область", "город" редактировать запрещено, только выбор из списка.
- Закладка Земля/ОфисыКлиентов при Insert/Edit записи поля "страна", "область", "город" редактировать запрещено, только выбор из списка.

v5.13.8 (4.09.09)
- Закладка ТП, время вывода из эксплуатации выводится в формате '00.00.0000'.
- Закладка ОК, при Insert/Edit записей поля "Клиент", "Страна", "Область", "Город" заначения вносятся по новому правилу:
  а) щелкнув мышкой на поле ввода, появится список значений, на клавиатуре наирая буквы - список прокручивается до похожево набора, выбраем (стрелка вверх/вниз и кн. Enter) нужное значение;
  б) щелкнув на стрелке вниз (справа от поля набора) выпадает список значений, прокручивая список находим нужное значение и щелчком мыши выбираем значение.

v5.13.9 (4.09.09)
- Закладка ОК, при Insert/Edit записей поля "Клиент", "Страна", "Область", "Город" заначения вносятся по новому правилу: вводится или выбирается значение из списка и при выходе с компоненты проверяется - есть лив списке введенное значение. Если оно отсутствует, то предлагается его выбрать из списка.

v5.13.10 (7.09.09)
- Исправлена ошибка: приформировании отчета по всем станциям ССС задавался неверный SQL-запрос.

v5.13.11 (9.09.09)
- Исправил ошибку: не полностью отображалась информация о ТП при двойном щелчке мыши на записи в окне TroublTicket/Активные.
- Закладка База/Collocation:
 а) поле Устройство не обязательно для заполнения и оно не влияет на отображение всей таблицы;
 б) обязательны для заполнения поля: Клиент, Узел, Оборудование, Статус.

v5.13.12 (10.09.09)
- Исправил ошибку: не отображались клиенты подвязанные к оборудованию, закладка База/СетевыеУстройства кнопка "Клиенты".

v5.13.13 (11.09.09)
- Исправил ошибку: при создании ТТ "Плановые работы" из закладки СетевыеУстройства не верно задавался SQL-запрос отображения готовой таблицы.

v5.13.14 (11.09.09)
- Исправил ошибку: в закладке ТП при значении поля out_exp = 0000-00-00 в БД записывалось значение = 1899-12-31.

v5.13.15 (17.09.09)
- В табл. Collocation изменен тип поля NumSt = varchar(10).
- Исправлена ошибка: в закладке ОК при добавлении нового клиента с список клиентов (поле "Клиент", кнопка "+").

v5.13.16 (28.09.09)
- В закладке Сетевые Устройства добавлена возможность выполнять команду TELNET к устройству (записи) по правому щелчку мыши.

v5.13.17 (29.09.09)
- На странице TroubleTicket в закладке "Активные" для СУ добавлена возможность выполнять команду TELNET (по правому щелчку мыши);
- На странице БАЗА/Земля в закладке "Тех.Площадки" удалени записи возможно только, если к ТП не подвязаны СУ.

v5.13.18 (29.09.09)
-  На странице БАЗА/Земля в закладке "Тех.Площадки"  поле "Тип электропитания" сделан ReadOnly (Только для чтения).  Значения из выпадающего списка: AC, DC, AC/DC, нет данных.

v5.14 (2.10.09)
- В клиентской части не обновляются/добавляются значения для следующих полей:
   collocation.Date_of_add,  collocation.last_edit
   net_data.Date_of_add, net_data.last_edit
   net_equip.Date_of_add, net_equip.last_edit
   net_links.Date_of_add, net_links.last_edit
   office_kli.Date_of_add, office_kli.last_edit
   reglament.Date_of_add, reglament.last_edit
   tblinform2.Date_of_add, tblinform2.last_edit
   zaporozhie.date_of_add, zaporozhie.last_edit
   trubl.date_of_open
   trubl_crew.dt_open
   zapisi_trubl_tic.date_zapisi, zapisi_trubl_tic.time_zapisi
- KlientsDB не использует таблицу "radio_bs";
- При назначении ТТ на группу, при анализе количества ТТ у членов группы не учитываются оложенные и плановые ТТ.

v5.14.1 (2.10.09)
- KlientsDB не использует таблицу "radio_clients".

v1.5.5 (2.10.09) - Сервер
- Исправил ошибку: при добавлении записи к єскалируемому ТТ.

v5.14.2 (5.10.09)
- При попытке удалить ОфисКлиента, анализируется: подвязано ли к офису оборудование - если да, то удаление запрещено.

v5.14.3 (5.10.09)
- Добавлен интерфейс для добавления/редактирования записей из таблицы tab_escalation_rules. Адрес: Tools/Options/Эскалация.

v5.15 (12.10.09)
- В таблице net_equip произошли изменения:
1. добавлено поле net,  удалено поле sign_net
2. удалено поле name_equip
3. добавлено поле status_d,   удалено поле status
4. добавлено поле antenna_d,   удалено поле dishID
5. добавлено поле installer,   удалено поле installerID
6. добавлено поле power_d,   удалено поле power
7. добавлено поле ground_zero,   удалено поле Ground_value
8. добавлено поле voltage_ac,   удалено поле voltage
9. В таблицу Office_kli добавлены поля long_deg, long_min, long_sec, lat_deg, lat_min, lat_sec
10. удалены поля longdeg, longmin, latdeg, latmin
11. добавлено поле user_id,   удалено поле enginer
12. удалены поля change_login, LANdevID, vap, type_net
13. при обновлении записи в таблице обновляются только те поля, которые изменялись.

v5.15.1 (14.10.09)
- Исправлена ошибка: в закладке Спутники/Клиенты не верно был сформирован SQL-запрос для отображения данных.

v5.15.2 (14.10.09)
- в таблице tblinform2 произошли изменения:
1. добавлено поле user_id,   удалено поле change_login
2 при обновлении записи в таблице обновляются только те поля, которые изменялись.
- Исправлена ошибка: в закладке Земля/Тех.Площадки по кнопке "Устройства --->" не верно формировался SQL-запрос.

v5.15.2a (15.10.09)
- Исправил ошибку: проблемы с поиском на странице Земля/СетевыеУстройства.

v5.15.2b (15.10.09)
- Исправил ошибку: не верно распределялся ТТ на ответственного при выборе группы (кн. "Назначить ответственного").

v5.16 (16.10.09)
- Удалил поле net_equip.status_equip, добавил поле owner=tab_lease_category.id по умочанию = 2, т.е. владелец Датагруп.
- Добавил поле  tab_installer.active, где "1" означает, что инсталлятор активен и доступен для выбора, "0" - недоступен. В форме поле фильтруется. 
- Добавлена возможность редактирования tab_installer из клиента (Tools/Option../Бригады\Инсталяторы). Права на полное редактирование у уровней 2 и 5.
- В таблицу tab_audit_trail пишется лог входов выходов в базу.
 
v5.16.1 (16.10.09)
- Перед удалением записи делается UPDATE user_id (чтобы в лог попало кто запиcь удалил). Сделал для закладок Тех.Площадки и СетевыеУстройства (таблицы net_equip и tblinform2).
- Исправил ошибку: не отображались данные на карте, не верно задавался SQL-запрос.

v5.16.2 (18.10.09)
- Исправил ошибку: не верно ведется лог при закрытии клинта.

v5.16.3 (20.10.09)
- Исправил ошибку: в закладке СетевыеУстройства не сортировались данные при нажатии на названии поля в таблице (был не верно задан SQL-запрос).
- Исправил ошибку: в закладке Тех.Площадки подправил сортировку данных при нажатии на названии поля (неверно задана нумирация полей).

v5.16.4 (20.10.09)
- Исправил ошибку: не корректно сохранялись данные в поля rate1, corner1, azimuth1, id_sect1, airmac1, ip_sect1, bandwidth1.
- Исправил ошибку: при сортировке данных в таблице при щелчке на названии колонки появлялась ошибка 'Access violation in address ... in module ....'.

v1.6 (21.10.09) - сервер
- Автоматическое распределение входящих ТТ из очереди.

v5.16.5 (25.10.09)
- При закрытии ТТ анализируется запись из табл. serv_ queue_tt  (где id_queue<0) и ТТ отправляется или в очередь, или закрывается.

v1.6.1 (25.10.09) - сервер
- При автоматическом распределении ТТ из очереди, в табл. serv_queue_tt учитываются только записи, где id_queue>0.

v5.16.6 (27.10.09)
- В таблицу trubl добавлено поле view_tt = {0 - просмотрено ТТ, 1 - не просмотрено ТТ} - для ответственного инженера за ТТ.
- Клиент модифицирован для работы с этим полем.

v1.6.2 (27.10.09) - сервер
- При выводе ТТ из подчинения, при распределении ТТ из очереди поле trubl.view_tt = "1", т.е. помечается ТТ для "просмотра".

v5.16.7 (28.10.09)
- Исправлена ошибка: при формировании отчетов для ССС не верно задавался SQL-запрос.
- Исправлена ошибка: не корректно отображалась информация у подчеркнутых ТТ в закладке Активные.

v5.16.8 (28.10.09)
- При входе в клиента, выбрав Group рабочее место автоматически будет выбранно и в закладке Активные.
- Исправил ошибку: в закладке Клиенты не корректно работал выбор городов с украинским названием. 

v5.16.9 (29.10.09)
- При добавлении записи к ТТ не "владельцем", при эскалации ТТ (v1.6.3 - сервер) поле trubl.view_tt = "1", т.е. помечается ТТ для "просмотра".
- Исправлена ошибка: невозможно добавить пароль для нового пользователя системы (связано с добавлением нового поля в таблицу tab_access).

v5.16.10 (30.10.09)
- В закладке Активные для уровня доступа №1 появилась возможность добавлять записи к ТТ.

v1.6.4 (2.11.09) - сервер
- Добавлено распределение "подчиненных"  ТТ в очереди, согласно правилу в табл. serv_queue_tt (где id_queue < 0);

v5.16.11 (2.11.09)
- При закрытии "материнског" ТТ "подчиненные" ТТ не закрываются.

v5.16.12 (2.11.09)
- В закладке Тех.Площадки добавлена кн. Журнал (уровень доступа 5).

v5.16.13 (3.11.09)
- Удалены из табл. tblinfirm2 поля in_exp, out_exp,  а так же и из ClientsDB.
- При добавлении записи к ТТ обновление в табл. "Активные ТТ" не происходит.

v5.16.14 (3.11.09)
- Не верно сохраняются данные при редактировании в закладке "Спутник/Клиенты", оптимизировал данные, должно  помочь.

v5.16.15 (4.11.09)
- В "СетевыхУстройствах" при просмотре данных об устройстве,  "контакты" черпаются, или из "узла", или из "офисы" (в зависимости от месторасположения устройства).
- В окне "Создать ТТ" проводится проверка зоны ответственности.

v1.6.5 (4.11.09) - сервер
- При формировании ТТ в очередь учитывается время и день недели указанные в правиле.

v5.16.16 (5.11.09)
- Исправлена ошибка: возникала при добавлении запииси к ТТ в окне Активные для уровня доступа №1.

v1.6.6 (5.11.09) - сервер
- В таб. Crew добавлено поле email_d, которое хранит номера записей (через точку с запятой) из таб. tab_access.
- Сервер научен работать с полем crew.email_d (поле crew.email в сервере не используется).

v5.16.17 (5.11.09)
- Исправил ошибку: на странице СетевыеСоединения нневозможно было создать новое соединения (проблема с SQL-запросом при выборе типа сети).

v5.16.18 (9.11.09)
- Исправлена ошибка: не верно добавлялись значения к некоторым полям при редактировании записи в табл. net_equip.

v5.16.19 (12.11.09)
- В табл. expworkers добавлено поле absence (="0"-доступно, ="1"- не доступно рабочее место).
- В клиентской части выполнено, что при выведении списка рабочих мест: клиент показывает только доступные рабочие места (состояние 0) и оперирует только с ними.

v1.6.7 (12.11.09) - сервер
- При распределении ТТ из очереди на группу, анализируются и распределяются ТТ только на доступные рабочие места.

v5.16.20 (12.11.09)
- При изменении у материнского ТТ статуса с А или П на У, то клиент не закрывает подчиненные ТТ и материнский.

v5.16.21 (12.11.09)
- В corporateplanner.works изменил тип на datetime, клиент изменен для работы с новым типом.

v5.16.22 (13.11.09)
- Исправил ошибку: невозможно бвло создать сервис в СетевыхЛинках.

v5.16.23 (13.11.09)
- Исправил ошибку: при редактировании карты не верно был задан SQL-запрос.

v5.16.24 (16.11.09)
- При чтении (клик) подчеркнутой записи в закладке Активные ТТ курсор перемещался в конец таблицы (на последнюю запись). Исправил - курсор остается на выбранной записи.

v1.6.8 (17.11.09) - сервер
- При распределении "подчиненных" ТТ в очередь: ТТ, имеющие тип = «по сигналу НМС» и не было звонка или Email-а, будет автоматически закрыт с параметрами "материнского" ТТ.

v5.16.25 (17.11.09)
- Исправил ошибку: при редактировании некоторых полей в закладке Спутник/Клиенты данные не сохранялись.

v5.16.26 (18.11.09)
- При закрытии "материнского" ТТ: в "подчиненные" ТТ добавляется запись с временем закрытия "материнского". 

v5.16.27 (18.11.09)
- При закрытии "материнского" ТТ в "подиненные" ТТ не добавляются записи.

v1.6.9 (18.11.09) - сервер
- При распределении "подчиненных" ТТ в очередь: добавляется к ним запись о времени и причине закрытия "материнского" ТТ.

v5.17 (18.11.09)
- Добавлен модуль автообновления до новой версии.

v5.17.01 (20.11.09)
- Исправил ошибку: в ОфисахКлиентов не сохранялось название компании в индекционную таблицу.
- Исправил ошибку: невозможно добавить нового пользователя.
- Исправил ошибку: в закладке Отложенные не отображалось название ответственного за ТТ.

v5.17.02 (23.11.09)
- При назначении ТТ на группу учитывается, что в группе все рабочие места недоступны.
- Исправил ошибку: при формировании дневного отчета наземного сетора.
- При нажатии кн. "Бригада на выезд" необходимо, чтобы выл выбран любой сектор в зоне ответственности.
- В форму "Доступность выездных бригад" добавлена возможность редактировать записи (кн. "Изменить").
- В форму Tools/Options... добавлена закладка "Правила распределения ТТ". В этой закладке можно добавлять, изменять и удалять правила распределения подчиненных ТТ и правила распределения ТТ из очередей.

v5.17.03 (25.11.09)
- В закладке Tools/Options.../Бригады\Инсталяторы можно добавлять, изменять и удалять данные о выездных бригадах наземного сектора.

v5.17.04 (25.11.09)
- В закладке  Tools/Options.../Правила распределения ТТ отображение очереди и сектора в таблице сделано более наглядным (а не цифра).
- Ошибка в закладке Сервисы, невозможно трансформировать тип, появлятся не будет.

v5.17.05 (25.11.09)
- В закладке Тех.Площадки при нажатии кн. Журнал отобразится LOG для выбранного (в таблице) Узла, а не обжий, для всех узлов.

v5.17.06 (30.11.09)
- При закрытии ТТ устройства со статусом "тестовая эксплуатация" состояние Сетевого Устройства автоматически становится "в эксплуатации" и ставится текущее время.
- В окне "Активные" можно просмотреть подвязанные к Тех.Площадке сетевые устройства (щелкнуть на выбранной записи ТТ правой кн. мыши и выбрать в всплывающем меню строку "Показать для ТП подвязанные устройства").

v5.17.07 (30.11.09)
- Изменен порядок выведения лога для ТП: лог выводится для конкретного предварительно выбранного узла.

v5.17.08 (30.11.09)
- - При закрытии ТТ устройства со статусом "тестовая эксплуатация" в закладке " Закрыть ТТ" появляется возможность выбрать состояние Сетевого Устройства ( по-умолчанию = "в эксплуатации"). При выборе другого состояния (кроме "тестовая эксплуатация") будет проставлено время вывода из эксплуатации.

v1.6.10 (2.12.09) - сервер
- Добавлено: если "материнчкий" ТТ находится в состоянии 'уведомление', то сервер распределяет по очередям "подчиненные" ТТ согласно правил. Остальные ТТ остаются "подчиненными" и будут закрыты, когда закроется "материнский" ТТ.

v5.17.09 (7.12.09)
- В сетевых устройствах и соединениях, офисах и сервисах клиентов записи выделяются цветом по статусу (демонтировано, в эксплуатации и тд..).
- В сетевых устройствах и соединениях, офисах и сервисах клиентов добавлена возможность фильтровать данные по колонкам таблицы.
- В закладке Отложенные отображаются только те ТТ, которые закрепленны за выбранной зоной ответственности в закладке «Активные»
- В статистике - отображать выезды по бригадам - отображаются задачи только на белом фоне, те которые выделены оранжевым не  отображаются.

v5.18 (8.12.09)
- Созданы таблицы klients.tab_overwork, klients.tab_katal_crew_absc;
- В форме, в которой инженеры отчитываются, после нажатия кнопки ОК, процедура проверяет если в поле формы «Переработано» значение отличное от 0, значит внести в табличку tab_overwork значения: поля access_id, tab_trubl_crew;
- В форме "управления доступностью выездной группы" добавил три поля с выпадающим списком сотрудников (по умолчанию «нет») и новое поле с указанием Причины отсутствия (отгул, отпуск, больничный, прочее). После нажатия кнопки ОК, если причина отсутствия «отгул» -  внести в табличку tab_overwork значения: поля access_id, tab_crew_absence.
- В клиентской части KlientDB таблица stucture_crew не используется.

v5.18.01 (9.12.09)
- В отчете о выезде и при управлении недоступностью группы проверяется: должен быть выбран хотя-бы один инженер, или водитель. Если не выбрана хотя-бы одна позиция выводить предупреждение: «Внесите состав выездной группы»
- В форме управления выездными группам, при нажатии кнопки «Редактировать» появилась возможность редактировать и состав группы, без дубляжа записей в таблице tab_overwork. По кнопке «удалить» удаляется запись о недоступности группы и удаляются так же записи в tab_overwork связанный с этой недоступностью группы.
- В выпадающих списках выбора сотрдников выездных групп, список сортируется по алфвиту от А до Я.
- В форме управления выездными группами, выполняется: после заполнения формы, проводится расчет сколько у каждого указанного сотрудника было переработок, сколько он уже отгулял и выводится информационное окно.
- В инсталляционном пакете заменить шаблон, work_card.doc. 

v5.18.02 (10.12.09)
- При сохранении данных об отсутствии выездных бригад поле 'объяснительная' = 'причина' - 'кто будет отсутствовать' , 'объяснительная' , 'ФИО внесшего'.

v5.18.03 (11.12.09)
- В меню edit добавил пункт меню  «Учет рабочего времени»  выездных групп - при выборе, открывается форма  просмотра переработанных часов и отгулов.  

v5.18.04 (13.12.09)
- Аварийки - Отчет: проводится проверка так, что проверяется введена ли хотя бы один инженер (в список ввел слово НЕТ - по умолчанию).
- Аварийки - Отчет: проверка "Дата конца меньше дня сегодняшнего" работает только при добавлении записи, при редактировании не работает.
- Ошибка: программа теряет зону ответственности. Надеюсь вылечил.

v5.18.05 (16.12.09)
- Исправлена ошибка: возникает при создании ТТ на СУ (если устройство присутствует на карте).
- Убрал секунды из интерфейса отчетности по выездам, оставил формат ЧЧ:ММ.
- В Закладку Аварийки добавил поле "№наряда", перед полем "№ТТ".

v5.18.06 (17.12.09)
- В закладку: «Все выезды» (только для 5того уровня доступа) добавил возможность редактировать задачи на выезд.
- При сохранении отчета выездной группы проверяется: 1. Дата время начала работ должно быть больше Дата время постановки задачи + 10 минут; 2. Дата время окончания работ должно быть больше Начало работ +  10 минут.
- Время и дата, которые фиксируются в системе, подтягивать с сервера (открытие/закрытие ТТ, создание/измение записей на странице "База").

v5.18.07 (17.12.09)
- Процесс автоапдейта: добавил поле necessarily. Клиент при очередной сверке версии на сервере и на компьютере проверяет если  в поле стоит 1 – выполнять автоапдейт обязательно. Если стоит 0 – автоапдейт спрашивает, желаете обновить или нет.
- Ограничение доступа: в "Поиске ТТ"  к кнопкам "Редактировать" и "Удалить" запись доступны только 5тому уровню доступа.

v5.19 (18.12.09)
- В табл. office_kli добавлено поле status_d, поле status - удалено.

v5.19.01 (21.12.09)
- Для пользователей с нулевым уровнем доступа (level = 0) открыт доступ к кнопке "Отчет" на странице "Аварийки".

v1.6.10 (21.12.09) - сервер
- Изменил принцип подсчета времени, когда ТТ был отложен (для эскалации ТТ).

v5.19.02 (21.12.09)
- Поменял по всей системе слово "Задача" на слово "Наряд" (для выездных бригад).

v5.19.03 (22.12.09)
- Словосочетание «Задача на выезд» заменил на «Наряд на выполнение работ».

v1.6.11 (22.12.09) - сервер
- Подправил шаблоны серверной части: 
 1) сообщение о поставленном наряде
 2) сообщение о переданном наряде от группы к группе.
 3) сообщение о отмене наряда на выезд.

v5.19.04 (23.12.09)
- Изменен интерфейс Insert/Edit и Show записи в закладке Тех.Площадки.

v5.19.05 (23.12.09)
- Увеличил длину подсказки для причины отсутствия бригады при назначении бригады на выезд.

v5.19.06 (23.12.09)
- Исправил ошибку: не верно отображались устройства расположенные в офисе (ОфисКлиентов/кн.Устройства).

v5.19.07 (24.12.09)
- Исправил ошибку: при "подчинении" ТТ можно было набрать номер ТТ, которого нет в списке ТТ.

v5.19.08 (31.12.09)
- При закрытии материнского планового ТТ, закрываются все ТТ починенные, кроме ТТ имеющих статус "открыт по звонку клиента" и ТТ по которым был звонок или email обращение.

v5.19.09 (11.01.10)
- Исправлена ошибка: после редактирования ОК в ТТ (для этого ОК) исчезало название города.
- Исправлена ошибка: при редактировании "города" в ОК для записи "спутникового" или "радио" сектора выпадала ошибка (нет поля sign_net).

v5.19.10 (11.01.10)
- в закладке "Аварийки" при написании отчета проверяется время начала работ больше времени постановки наряда.
- при редактировании отчета выездной группы доступно для редактирования время постановки нарада.
- в закладке "Сервисы" поле 'dogovor' включено в поиск.

v5.19.11 (12.01.10)
- При смене статуса "материнского" ТТ на У-ведомление информация о причине, типе закрытия вносится в соответствующие поля этого ТТ и служит основанием для закрытия "подчиненных" этого ТТ.

v1.6.13 (12.01.10)
- При распределении "подчиненных" ТТ в очереди учитывается информация из "материнского" ТТ со статусом У-ведомление.

v5.19.12 (13.01.10)
- Добавлены в ситему новые значения поля expworkers.absence = {2,3}, для корректного отображения доступности рабочих мест.

v1.6.14 (13.01.10)
- ТТ распределяются на рабочие места, у которых поле expworkers.absence = 0 или 3.

v5.19.13 (15.01.10)
- При редактировании записи в ОК в таблицу office_kli вносятся значения тех полей, которые были изменены при редактировании.

v5.19.14 (15.01.10)
- Исправил ошибку: при украинском названии города поле office_kli.town_id обнулялось.

v5.19.15 (16.01.10)
- При регестрации на рабочем месте с absence=2, то статус меняется на 3 и при выходе из программы возвращется к 2.
- При "Редактировании выездов" добавлена возможность редактировать время, когда бригада отчиталась.

v5.19.16 (19.01.10)
- Установил проверку при закрытии клиента: необходимо подвязанные к рабочему месту ТТ передать по смене.

v5.19.17 (19.01.10)
- В закладке "Активные" при подвязке ТТ к "материнскому" из списка номеров ТТ выброшены "тестовые" ТТ.

v5.20 (20.01.10)
- Изменил интерфейс программы (косметика).
- Изменил поле (date_of_start) и порядок фильтрации в закладке "Все выезды".

v5.20.01 (25.01.10)
- Исправил ошибку: не верно отображалась статистика по рабочим местам.

v5.20.02 (26.01.10)
- При составлении отчета о выезде выездной группы, убрал поле "переработка". Теперь значение переработки вычисляется автоматически.

v5.20.03 (27.01.10)
- Добавлена проверка: при сохранении отчета выездной группы, если время работ больше 24 часов, то необходимо подтверждение о правильности данных.

v5.20.04 (28.01.10)
- Добавлено поле crew_absence.owertime, куда вносится количество рабочих часов (с учетом обеда).

v5.20.05 (29.01.10)
- Запрещено редактировать записи закладка "Все выезды", по которым нет отчета.

v5.20.06 (01.02.10)
- Исправил ошибку: на странице "Спутник/Клиенты" при изменении в поле "Тип сети" не верно сохранялась информация.

v5.20.07 (01.02.10)
- Исправил ошибку: при переводе СУ в состояние 'демонтировано' не сохранялась дата в поле out_exp.

v5.20.08 (02.02.10)
- Перенастроил ClientsDB на работу с полем crew_absence.overtime при отчете бригады, учете рабочего времени.

v5.20.09 (02.02.10)
- При просмотре информации (двойной щелчкек на записи) о СУ добавлена строка: "№ задачи в планере".

v5.20.10 (02.02.10)
- Исправления в интерфейсе учета выездных груп.

v1.6.15 (02.02.10) - сервер
- Изменения в тексте письма при уведомлении об отсутствии выездной групы.

v5.20.11 (03.02.10)
- Добавил функцию для корректного подсчета часов, которые прошли с начала работ и до их завершения.
- Добавил проверку: при написании отчета о выезде бригады время окончания работ не должно превышать текущее время.

v5.20.12 (04.02.10)
- При сохранении отчета выездной бригады выдается информация о количестве переработанных часов.

v5.20.13 (05.02.10)
- На странице "Все за период" добавлена возможность сортировки записи по полю "Клиент".

v5.20.14 (05.02.10)
- Бригада не доступна в выпадающих списках ClientsDB, если crew.absence=2.

v1.6.16 (05.02.10)
- Подправил код для корректной работы сервера со значением поля crew.absence=2.

v5.20.15 (08.02.10)
- Исправил ошибку: при закрытии ТТ вносилась не верная информация в запись к ТТ.

v1.7 (09.02.10) - сервер
- Изменен принцип учета запущенных серверов (появилась таблица tab_servind).

v5.20.16 (09.02.10)
- Добавлено поле tblinform2.node_old для хранения названия узлов от СЭ, а в поле node будут храниться названия принятые в регионах.
- Клинтская часть подправлена для работы с tab_servind.

v5.20.17 (10.02.10)
- Добавлена кнопка "Вернут в активные" (дотупна Level 5, данные из tab_overwork удаляются).
- Добавлен полноценный поиск по всем полям (кн. "Поиск"+поле ввода).

v5.20.18 (11.02.10)
- Добавлена фильтрация по "Тип ТТ" на страницы АКТИВНЫЕ и ВСЕ ЗА ПЕРИОД.
- Добавлена возможность редактировать не закрытые наряды на стр. ВСЕ ВЫЕЗДЫ.

v5.20.19 (11.02.10)
- Фильтрация по узлу на стр. Тех.Площадки происходит по полю tblinform2.node_old.

v5.20.20 (12.02.10)
- Фильтрация по "Тип ТТ" на страницы АКТИВНЫЕ и ВСЕ ЗА ПЕРИОД: можно выбирать несколько типов ТТ для фильтрации.

v5.20.21 (15.02.10)
- Поле tab_equip.sign_net не используется в закладке СетевыеУстройства.
- При Insert/Edit СетевыхУстройств в списках 'Название устройства из справочника:' и 'Подвязать к узлу:' убрал цифру в начале строки.

v5.20.22 (15.02.10)
- Исправил ошибку: при подсчете отгулов выездных бригад не учитывалось обеденное время.

v5.20.23 (16.02.10)
- В закладке ОфисыКлиентов названия устройств для "привязки" выбираются не из списка, а в окне поиска по полям таблицы.
- Исправлена ошибка: в СервисахКлиента при подвязывании офисов не возможно было выбрать офис по поиску. Ошибка SQL-запроса.

v5.20.24 (16.02.10)
- Исправил ошибку: в ОфисахКлиентов при Insert/Edit записи добавил проверку на обязательное заполнение полей - Клиент, Страна, Область, Город, Привязка, Статус клиента.

v5.20.25 (16.02.10)
- Поле tab_equip.sign_net не используется в закладке Спутник/Клиенты.

v5.20.26 (17.02.10)
- При редактировании ТТ (закладка "Поиск ТТ"), если Тип ТТ меняется на "по обращению клиента", то ring_on=1; если изменяется этот тип на другой, то ring_on=0.

v1.7.1 (17.02.10) - сервер
- При отправке "подчиненных" ТТ в очередь у нег должен быть ring_on>0 (без учета Типа ТТ).

v5.20.27 (23.02.10)
- Добавляем новое поле ответственного менеджера Датагруп 
       tab_klients.manager (int5), поле будет ссылаться на tab_access.id
- Добавляем новые поля, ответственное лицо со стороны клиента - 
      tab_klients.admin -  (varchar 100, ФИО ответственного)
      tab_klients.admin_phohe  - (varchar 100, телефонные контакты ответственного)
      tab_klients.admin_email - (varchar 100, email, ответственного, если их несколько через точку с запятой )
      tab_klients.admin_fax - (varchar 30, fax, в международной строго форме,  +380 xx xxx-xx-xx)
- При добавлении нового клиента (кн. "плюс", поле 'Клиент', Insert/Edit в ОК), всплывающая форма модернизирована так, что в нее можно добавлять новые записи в табличку tab_klients с учетом новых полей.
- Окно отображения данных по двойному щелчку в закладка ОК, СК, и при двойном тапе на активный ТТ. Перед контактными данными локального офиса добавил строчку 'Контакт локального офиса', отображается красным. А ниже основных данных добавил 'контактные данные главного офиса' из новодобавленных полей, отображается синим.

v5.20.28 (01.03.10)
- В закладке Статистика/Загрузка из баланса записей убрал учет записей созданных автоматом (сервером).

v5.20.29 (02.03.10)
- При отчетах,  если переработок нет, то информационное окно не появляется.
- При редактировании записи о выезде бригады, которая была создана по кн. "Новый наряд", добавил возможность выбирать значение "Тип" из списка.
- При отчете бригады и в управлении выездными группами запретил вносить одинаковые фамилии в два и более полей.

v5.20.30 (02.03.10)
- Добавлен тип сети SCPC для спутникового сектора, аналогичен DW6000.

v5.20.31 (02.03.10)
- Исправлена ошибка: при редактировании ОК не верно подвязывалось оборудование.

v5.20.32 (03.03.10)
- При добавлении названия клиента, факс можно вносить в произвольной форме.
- При просмотре записи ОК выводится "ответственній менеджер".
- Обновление программы не предлагается, если открыты закладки "Добавление ТТ", "Добавление записи", "Закрытие ТТ".

v5.20.33 (03.03.10)
- Исправил ошибку: не отобращались данные о ТТ, созданном в Collocation.

v5.21 (04.03.10)
- Добавил пунк меню: "Справочники".
- В пункт меню "Справочники" добавил подменю "Партнеры": партнерами будем называть тех с кем взаимодействуем – это клиенты и субпровайдеры табличка tab_klients.
- При выборе подменю "Партнеры" появляется окно с таблицей  tab_klients, записи в которой можно добавлять, изменять и удалять.

v5.21.01 (04.03.10)
- В закладке "Сервис" отображается (опять) класс клиента.

v5.21.02 (04.03.10)
- В форму добавления названия клиента добавил поле "Класс клиента"={0..10}.

v5.21.03 (05.03.10)
- В закладке База - > Collocation сделал возможность сортировки по всем полям таблицы (щелчком мыши на названии поля).
- В форму ввода новых Сollocation-записей добавил модуль ввода нового клиента (поле "Клиент", кн. 'плюс').
- Модернизировал форму отображения данных ( по двойному тапу) в закладке База - > Collocation  и Активных ТТ: добавил снизу контакт главного офиса и ответственного менеджера.

v5.21.04 (05.03.10)
- Исправил ошибку: не корректно работало автообновление программы.

v5.21.05 (09.03.10)
- Добавил поля "Договор" и "Примечание" в форму добавления клиентов (tab_klients).

v5.21.06 (09.03.10)
- Исправил ошибку: в ОК при редактировании записи нельзя было переподвязать оборудоание.

v5.22 (10.03.10)
- Добавил поле status_d  в таблицы tab_links, tab_data.
- Добавил признак "Показывать демонтированные" в п.меню "Edit", если он выбран, то в ТП, СУ, СС, ОК, СК демонтированные записи будут показываться, иначе - не будут. По-умолчанию - не выбран.
- Добавил таблицу tab_nclass, в ТП поле "класс" заполняется из этой таблицы.

v5.22.01 (10.03.10)
- Исправил ошибку: выскакивала при поиске в ТП из двух слов.

v5.22.02 (11.03.10)
- Внес изменения: в СС оперируем с net_link.status_d вместо net_link.status, в СК оперируем net_data.status_d вместо net_data.status, в Collocation оперируем с collocation.status_d вместо collocation.status.
- Поля net_link.status, net_data.status, collocation.status можно удалить.
- Признак "Показывать демонтированные" действует и на закладку Collocation.
- При просмотре информации о ОК (двойной щелчек на записи) подкорректировал цветовую гамму.

v5.22.03 (12.03.10)
- Всплывающая форма о автоапдейте, не блокирует работу с приложением:  всплыла – сотрудник отодвинул ее, закончил операцию – нажал «Да» выполнил апдейт.
- При просмотре информации о ОК (двойной щелчек на записи) подкорректировал цветовую гамму.
- Исправил ошибку: при просмотре информации о ТТ, открытого на запись Collocation.
- Исправил ошибку: при сортировки столбцов в таблице Collocation.

v5.22.04 (16.03.10)
- Добавил таблицу: tab_katal_office_status=(id, name).
- В ОК информация для поля "Статус офиса клиента" берется из таблицы tab_katal_office_status.
- В ТП, СУ,ОК и Сервис заменил ID офиса  в планере на "ID Задачи в планере".
- Модернизировал окошко отображения данных из планера при правом клике мышью на записях «ТП, СУ,ОК и Сервис»: раньше «planner.ID офиса” был в записи БД, теперь там номер задачи, то отображается записи о ней.

v5.22.05 (19.03.10)
- Значение поля 'Тип сервиса' подтягивается из таблицы tab_katal_SK_type.
- Поле Продавец убрал из формы, вместо него ввел поле «Клиент» net_data.сlient, где значение выбрается из списка.
- Настроина проверка, если поле не заполнено, выводится предупреждение и требует заполнить.
- Введено автозаполнение нового поля Клиент, при потере фокуса с поля Офис B, сравниваются оба выбранных офиса, значений в полях office_kli.office и:
 1) Если  поля Офис А и Офис Б не имеют значений  - в поле Клиент ничего не менять.
 2) Если office_kli.office  для обеих офисов  равны -  в поле Клиент (net_data.сlient) ничего не менять
 3) Если office_kli.office  не равны то заполнить поле Клиент (net_data.client) = office_kli.klient того офиса у которого office_kli.office  меньше.
- Изменил расположение элементов на форме Edit/Insert СК.
- Поле примечание сделал в одну строчку. 
- Добавил новое поле net_data.shema и новое поле "Трасса по сети (без ПМ)".

v5.22.06 (19.03.10)
- Модернизировал окошко отображения данных из планера при правом клике мышью на записях «ТП, СУ,ОК и Сервис».

v5.22.07 (22.03.10)
- В отображение таблицы СК добавил поля: net_data.сlient, «Тип сервиса». Убрал поле "продавец". 
- Поиск осуществяется по всем отображаемым полям и по полям, плюс: net_data.shema, "примечание", "Трасса по сети:(без ПМ)".

v5.22.08 (29.03.10)
- В "Партнерах" добавил сортировку по "Клиенту" и "Классу" (по нажатии на поле в таблице).

v5.22.09 (29.03.10)
- В "Партнерах" добавил возможность копировать содержание таблицы в буфер обмена, для вставки а Excel например.

v5.23 (31.03.10)
- В форме редактирования СервисовКлиента
1) статус канала, по умолчанию  =  1 ( тестовая эксплуатация) 
2) добавил проверку:  "Статус канала" должен быть выбран, он не должен быть равен 0.
3) табуляция по полям скачит последовательно, слева направо сверху вниз.
4) значение поля "Тип сервиса" берется из поля type_serv_d (= int(2)), а поле type_serv удалено!
- В форме Выбор офиса клиента
1) курсор сразу стоит в строке поиска.
2) кнопку "Выбрать"  переместил вправо, ближе к остальным кнопкам.

v5.23.01 (31.03.10)
- В форме редактирования Спутник/Клиенты
1) статус канала, по умолчанию  =  1 ( тестовая эксплуатация) 
2) добавил проверку:  "Статус канала" должен быть выбран, он не должен быть равен 0.

v5.23.02 (31.03.10)
- В таблице поле "название", в форме добавления и редактирования, а так же в форме поиска ТП, учавствует поле  tblinform2. node_old.

v5.23.03 (31.03.10)
- В закладке Тех.Площадки в поиске участвует поле "№".

v5.23.04 (02.04.10)
- Исправил ошибку: в закладке Выезды, диапазон времени не корректно определялся.
- Внес лицевые изменения в Planner задачи.

v5.23.05 (07.04.10)
- В окне "Аварийки" сортировка выполняется в первую очередь по дате Поступил, во вторую по приоритету (... order by date_of_start, order_id).

v5.23.06 (09.04.10)
- Исправил ошибку: не отображалась задача из Planner'a.

v5.23.07 (12.04.10)
- В закладку Спутники/Клиенты добавил отображение полей Office_kli.Date_of_add  и  Office_kli.last_edit и  Office_kli.change_login
- При переназначении бригады на выезд в поле trubl_crew.zadanie добавляктся информация: время, что на что поменяли, кто поменял.

v5.23.08 (13.04.10)
- Исправил ошибку: не отображалась задача из Planner'a.
- Исправил ошибку: не верно формировалось поле zaporozhie.klient.

v5.23.09 (14.04.10)
- Внес изменения в отображение данных для форма табель сотрудника и Доступность выездных групп.
- При нажатии на кнопку Клиенты (СУ) то в Офисе клиентов отображается все подвязанные к устройству офисы.

v5.23.10 (15.04.10)
- Способность изменять и удалять записи в форме "Доступность выездных групп" есть у 5-го уровня доступа.

v5.23.11 (21.04.10)
- Устранена проблема: при добавлении нового ОК в табл. index_tab иногда вносилось несколько одинаковых записей (5 штук). Изменил принцып нахождения id новой записи, должно помочь.
- В закладках Активные и Отложенные вместо фильтрации по № и Клиенту сделал поиск. Процедура: набираем фразу в поле --> жмем ENTER --> получаем результат.

v5.24 (22.04.10)
- Создана табл. tab_priority (id, npri).
- В закладках Активные и Отложенные фильтрация по № и Клиенту осуществяется по набору клавиш.
- Добавил поле trubl.priority.
- В закладке Активные а табл. вывел значения поля priority.
- При создании ТТ поле priority заполняется согласно таблицы.
- Для уровня доступа 5, добавил возможность изменять значение поля priority.
- Исправил ошибку: в СК при создании/редактировании сервиса не верно вносилиь данные в табл. index_tab.

v5.24.01 (23.04.10)
- Поле tab_priority.id начальное значение = 0.

v1.7.2 (23.04.10)
- Приоритет TT обрабатывается сервером при распределении задач из очередей: первым из очереди будет распределен самый «старый» ТТ из приоритетных и так до тех пор пока приоритетные не закончатся. Потом самый старый из менее приоритетных. Итд.

v5.24.02 (23.04.10)
- Исправил ошибку: автозагрузка не работала.

v5.24.03 (26.04.10)
- Исправил ошибку: при отображении задачи из планера не анализировалась цифра задающая номер задачи.

v5.24.04 (27.04.10)
- Исправлена ошибка: в "отложенных" нельзя было назначить ответственного за ТТ.

v5.24.05 (27.04.10)
- Исправлена ошибка: не отображались данные в таблице (закладка tools/options../эскалация) после удаления записи.

v5.24.06 (27.04.10)
- Исправлена ошибка: не отображалась информация в закладке "Аварийки" при назначении/смене бригады на выезд.

v5.24.07 (28.04.10)
- В закладке Клиенты в поиск добавлено поле "Страна".
- Модернезировано отображение информации для ОК.

v5.24.08 (28.04.10)
- Исправлена ошибка: не создавался ТТ из закладки СК.
- Исправлена ошибка: не верно формировался приоритет для ТТ.

v5.24.08 (28.04.10)
- Приоритет для ТТ в закладке Collocation формируется с учетом класса клиента.
- Исправлена ошибка: поск в ОК для четырех слов не работал.

v5.24.10 (29.04.10)
- Добавил функцию в Edit/Insert СК, если ОФИС А и ОФИС Б принадлежат одному клиенту, в поле "Клиент" автоматически вносится этот клиент.

v5.24.11 (30.04.10)
- Из поиска в СК исключено поле "статус".
- Исправлена ошибка: при автообновлении не закрывался ClientsDB.

v5.24.12 (5.05.10)
- Изменен принцип фильтрации в закладке "Все выезды": 
1)фильтр показывает все закрытые наряды  у которых дата начало или в промежутке или совпадает с датами фильтра;
2)так же фильтр показывает все не закрытые наряды у которых дата постановки наряда или в промежутке или совпадает с датами фильтра.

v5.24.13 (11.05.10)
- Добавлена сеть Direcway_HX. Сделаны изменеия для работы с этой сетью в спутниковом интерфейсе.
- Добавил в закладку «Все за период»  после поля «Причина закрытия»  - поля классификации trubl.type_1 и trubl.type_2.

v1.7.3 (25.05.10)
- Добавлена проверка "Синхронизация поля tblinform2.node_old": если поле node_old пустое, то синхронизируется (заполняется значением) с полем node.

v5.24.14 (25.05.10)
- Исправил ошибку: состав бригады будет сохраняться если "Переработка" >= 0.

v5.25 (26.05.10)
- Клиентская часть анализирует работу сервера: клиент сбрасывает в ноль состояние, если сервер не активен.
- Исправил ошибку: не верно анализировалось время при редактировании информации о выезде бригады.

v5.25.01 (26.05.10)
- Исправлена ошибка: не верно сохранялся состав выездной бригады при написании отчета.

v5.25.02 (08.06.10)
- Исправлена ошибка: можно добавлять ковычки ( '' ) в текстовые поля.

v5.26 (10.06.10)
- В информационном окне просмотра ОК добавлены возмощности: 1) по правому клику мыши появляется меню = {telnet..., о устройстве...}; 2) по двойному щелчку мыши на инф. поле = о устройстве... (поле меню).

v5.26.01 (10.06.10)
- Исправлена ошибка: при подчинении ТТ в окне "Активные" не обновлялась таблица с данными.

v5.26.02 (15.06.10)
- При отправке бригады на выезд изменилазь логика работы в закладке Активные.

v5.26.03 (16.06.10)
- При просмотре информации о ОК изменен цвет устройства в "Схема ПМ:".

v5.26.04 (16.06.10)
- Закладка Активные: если выбрана зона ответственности НЕ рабочее место, а группа, то становятся не доступны кнопки: Закрыть, Отложить, Добавить, не решен, Бригада на выезд!, Показать паспорт на НС. А если выбрано рабочее место ( а не группа), то эти кнопки становятся (или остаются) доступны. Доступность кнопок также зависит от уровня доступа рабочего места.

v5.26.04 (25.06.10)
- Исправлена ошибка: в закладке Отлощенные невозможно было назначить ответственного за ТТ.

v5.26.6 (05.07.10)
- Добавлена функция контроля (через каждые 30 минут) за состоянием сервера на том же ПК, где и запущен Клиент.

v1.7.4 (05.07.10) сервер
- Добавлена функция: обновляет время в таблице tab_servind у той записи, к которой привязан запущенный сервер.

v5.26.08 (06.07.10)
- Исправил ошибку: при добавлении/редактировании СУ в поле index_tab.zapisi добавлялось два названия города.
- Убрал кнопку НАСТРОЙКИ.

v5.27 (09.07.10)
- Исправил ошибку: при выборе записи в таблице и нажатии комбинации клавиш Ctrl+d - запись удалялась! Эта возможность закрыта. (как и для других комбинаций клавиш).

v5.27.01 (13.07.10)
- Исправление: при анализе работы сервера Клиент проверяет все записи в табл. tab_servind и если разница между текущим и в записи временем больше 30 минут, то в записи ind = 0.

v1.8 (14.07.10) - сервер
- Исправлена системная ошибка: для каждого таймера введены отдельные таблицы для SQL-запросов.
- Добавлен процес: удаление ковычек из полей node, node_old, address в таблице tblinform2.

v5.27.02 (15.07.10)
- Спутник/Клиенты добавил поле class (класс клиента).

v5.27.03 (16.07.10)
- в закладках  Земля: СУ, СС, ОК, СК и Спутник: Клиенты добавлена возможность копировать содержимого таблиц в буфер обмена (открыв закладку и выбрав Edit/Copy).

v5.28 (2.08.10)
- При редактировании в ОК значение полей, которые находятся в других таблицах (а не в office_kli), проверяются на отличие от первоначального (т.е. было ли поле изменено). Это необходимо, чтобы избещать ненужных SQL-запросов.

v5.28.01 (5.08.10)
- При добавлении/редактировании в ОК порядковый номера в таблице для значения полей: "Клиент", "Страна", "Оборудование", "Статус", "СтатусОфиса" берется из 'оперативки' компьютера, а не SQL-запросом к БД.

v5.28.02 (8.08.10)
- При добавлении/редактировании в ОК строка SQL-запросом на добавление/изменеие разбита на N-запросов (N = количество заполняемых строк в табл. office-kli).

v5.28.03 (10.08.10)
- При выводе информации о Сервисе (закладка Сервис) добавлено поле "№ задачи из планера".

v5.28.04 (16.08.10)
- В закладке Аварийки при написании отчета таблица блокируется, т.е. перемещение по полям не возможны. Блокировка снимается, когда отчет написан и нажата кн. Ок.

v5.29 (17.08.10)
- Добавил в табл. tab_access поле groups, а поле al_web - удалил. Изменеия в клиенте сделаны.

v5.29.01 (20.08.10)
- В закладке Аварийки, для 1-го уровня доступа стала даоступна кн. "Наряд на работы".
- В шаблон наряда (Work_card.doc) добавлена информация: описание проблемы (подтягивается из ТТ).

v5.29.02 (21.08.10)
- Исправил ошибку: не верно подсвечивалось рабочее время (точнее в короткий день) в нижнеп поле KlientsDB.

v1.8.1 (30.08.10)
- Исправлено дублирование писем, которые отсылались при передачи задачи от одной бригады к другой.

v5.29.03 (01.09.10)
-  В закладке Аварийки, для 0-го уровня стала доступна кн. "Наряд на работы".

v5.29.04 (13.09.10)
- Изменения в форме Insert/Edit закладки Спутник/Клиенты: в полях с выпадающим списком можно добавлять значения только из списка, остальные - будут блокироваться.

v1.8.2 (15.09.10) - сервер
- При эскалации ТТ, время простоя расчитывается: от общего времени вычитается время, когда ТТ было отложено, и вычитается время, когда ТТ был в подчинении.

v5.29.05 (22.09.10)
- Добавлена возможность автоматически подгружать ширину полей таблиц в закладках Активные, Отложенные, Плановые из файла Setup.ini.

v5.29.06 (12.10.10)
- Исправлена ошибка: просмотр задач в планере: если фокус попадал на последнюю запись в таблице, то выбрать другую запись было невозможно.

v5.29.07 (12.10.10)
- Исправил ошибку: не корректно работала форма при просмотре "Табеля сотрудника".

v5.29.08 (9.11.10)
- Исправлено: ширина полей таблиц в закладках Активные, Отложенные, Плановые автоматически подгружать  из файла Setup.ini. Запись в файл измененных параметров полей в файл не происходит.

v5.29.09 (10.11.10)
- кн. "Бригада на выезд": добавлена проверка, если в поле меньше 15 символов выводить окошко требующее «Опишите суть задания в полном объеме».

v5.29.10 (11.11.10)
- Исправил ошибку: возникала при обнулении записи в tab_servind клиентом.

v5.29.11 (13.11.10)
- Удалил форму "Ввести члена бригады:" в Options..\Бригады/Инсталяторы - больше не используется.

v5.29.12 (16.11.10)
- При отмене выезда бригады (Аварийки, кн. Отмениеть выезд) в ТТ вносится об этом запись.

v5.29.13 (25.11.10)
- Изменил порядок сортировки в закладке Аварийки: приоритет + время начала.

v5.29.14 (6.12.10)
- В KlientsDB не используются поля tblinform2.areaID и tblinform2.responsible.

v5.29.15 (9.12.10)
- кн. "Из отложенных" доступна для 2, 3 и 5 уровней доступа.
- При фильтрации по типу ТТ на странице АКТИВНЫЕ разделителем между типами выступает "точка с запятой".

v5.29.16 (9.12.10)
- з-ка Плановые Работы, в просмотр информации о записи (двойной щелчек мыши) добавлена строка "Заявка подана:" - время подачи заявки.

v5.30 (13.12.10)
- В  БД Klients добавлены поля crew.staff, trubl_crew.staff, trubl_crew.car_number.
- В  БД Klients добавлена таблица tab_auto {id, number, driver_link, description}.
- В форме "Бригада на выезд!" добавлено поле "№ автомобиля" (с выпадающим списком). Если из списка выбрать "не известен", то поле trubl_crew.car_number заполняться не будет и диспетчеру письмо отсылаться не будет.

v1.8.3 (13.12.10) сервер
- в пункте "Анализ задач выездных бригад для отправки писем" при рассылке письма-уведомления бригадам о новой задаче, в письмо влаживается файл "Заявка на автомобиль".

v1.8.4 (13.12.10) сервер
- Добавил поле crew.dispatcher - хранит ссылки на почтовые ареса диспетчеров автомобилей.

v1.8.5 (14.12.10) сервер
- письмо диспетчерам не отсылается, если поле trubl_crew.car_number пустое.
- имя вложеного файла для диспетчеров формируется по шаблону: yyyy-mm-dd_ trubl_crew.car_number_leased_car.xls.
- В письме бригадам о новом наряде добавляется предупреждение, если диспетчерам небыло отослано письмо.

v5.30.01 (14.12.10)
- В форме "Бригада на выезд!" если за группой не закреплен автомобиль то в поле № автомобиля автоматически по умолчанию подставляется  «не известен».
- В форме "Бригада на выезд!" при выборе номера авто выпадает строка подсказка, информация из поля tab_auto.description.

v1.8.6 (15.12.10) сервер
- Письмо отсылается диспетчерам, если задача была передана от одной бригады к другой.

v5.30.02 (15.12.10)
-  В форме "Бригада на выезд!" добавил поле "Рук.группы" (с выпадающим списком). Оно по умолчанию заполняется первым ФИО из поля : crew.staff. Если будет выбран другой ФИО, то первым в списке будет сохранено новое ФИО.
- поле "№ автомобиля"  в выпадающем списке номерова автомобиля сортируются по алфавиту.
- В форме "Бригада на выезд!" при выборе номера авто выпадает строка подсказка, информация из поля tab_auto.description (если оно не пустое!).
- При передаче наряда на выезд заново формируется заявка на диспетчера той группы которой передана заявка. Изменен внешний вид формы.

v5.30.03 (16.12.10)
- При написании отчета выездной бригадой: добавил поле - выбор № автомобиля.

v5.30.04 (18.12.10)
- Все предыдущие наработки по формированию отчета для диспетчеров отменены.
- Отчет диспетчерам будет отсылаться при закрытии наряда (написании отчета, в trubl_crew.send:=2).

v1.8.7 (18.12.10) сервер
- Отчет диспетчерам отсылается при trubl_crew.send=2 (задача закрыта, посылать).

v5.30.05 (21.12.10)
- Исправлена ошибка: при сохранении отчета выездной группы не сохранялся состав группы.

v5.30.05 (22.12.10)
- Сделаны некоторые космитические изменеия в интерфейсе.

v5.31 (23.12.10)
- Удален файл clients.ini, параметры из этого файла перенесены в setup.ini
- В файле setup.ini в раздел [server] добавлен параметр database - название базы данных.

v5.31.1 (27.12.10)
- Исправил ошибку: не верно автоматически выбирался номер авто при выборе водителя.

v5.31.2 (17.01.11)
- Исправлена ошибка: клиент не отслеживал время работы сервера (табл. tab_servind).
- Исправлена ошибка: при редактировании записи о выезде бригады.

v1.8.8 (17.01.11) сервер
- В названии файла для диспетчеров дата соответствует дате выезда бригады.

v5.31.3 (17.01.11)
- Исправил ошибку: в закладке СС нельзя было создать межсетевое соединение.

v5.31.4 (19.01.11)
- В форме "Табель сотрудника" (Edit/Табель сотрудника...) добавил формирование отчета о переработках выездных групп (доступен для level=5).
- При ошибку SQL-запроса информация (дата + запрос) будет помещена в файл SQLErrors.LOG.

v5.31.5 (20.01.11)
- Исправлена ошибка: при подсчете времени переработки выездной группы.

v5.31.6 (24.01.11)
- Исправил потенциальную ошибку: при изменении данных в таблице tab_klients (Справочники/Партнеры...).

v5.31.07 (25.01.11)
- В спутниковом интерфейсе ("Клиенты") добавил реакция на меню «Показывать демонтированное».
- В закладку Активные и Отложенные, в самом конце добавил отображения типа ТТ.

v5.31.08 (26.01.11)
- При изменеии (увеличение/уменьшение) размеров рабочего окна ClientsDB изменения также происходят в закладках АКТИВНЫЕ, ОТЛОЖЕННЫЕ, ПЛАНОВЫЕ.

v5.31.09 (27.01.11)
- Для задач РУ добавлена возможность фиксировать пункт назначения.

v5.31.10 (27.01.11)
- В tab_nets добавлено поле sector, для разделения сетей по секторам (признак SS = спутниковый).
- В закладке спутник в списках сетей отображаются только спутниковые сети.

v5.31.11 (27.01.11)
- Добавил ограничения для "Класса клиента" и "Ключа" (только для 5-го уровня) при редактировании информации о клиентах (tab_klients).

v5.31.12 (28.01.11)
- В закладку СТАТИСТИКА/Загрузка добавил кнопку «Количество ТТ», по которой формируется файл со статистикой закрытых ТТ по секторам. Кнопка доступнакоторая только уровням доступа 5 и 2.
- Исправлена ошибка: при изменении статуса ТТ в закладке Аварийки.

v1.8.8 (31.01.11) сервер
- Исправил ошибку: если нет записи в tab_servind с IP компьютера, на котором запущен сервер, то ServKlients закрыть. 

v5.31.13 (3.02.11)
- Исправил ошибку: при Добавлении/Редактироапнии Офиса Клиента.

v5.31.13 (10.02.11)
- Закладка "Добавить запись" в полях "Контакт" и "Что сделано" можно вносить ковычки ( " ).

v5.32 (11.02.11)
- Добавил поле net_data.ras_scheme text и добавил это поле в редактор СервисовКлиентов.
- Модернезировал отображение информации о СервисахКлиентов (двойной щелчек на записи).

v5.32.1 (15.02.11)
- Внес косметические изменения в отображении информации о СервисеКлиентов.

v5.32.2 (16.02.11)
- Внес косметические изменения в отображении информации о СервисеКлиентов.
- Исправил порядок табуляции по полям при отчете бригады.
- Добавил поле "Использованное оборудование" в автоматическое формировании отчета для бригады.

v5.32.3 (16.02.11)
- Исправил ошибку: при изменеии статуса у "материнскогго" ТТ.

v5.32.4 (17.02.11)
- Сетевые Устройства: в поле Insert/Edit появилась поле и кнопка подвязки Офиса/Устройства (вместо выпадающих полей "Город" и "Подвязать ...").

v5.32.4 (17.02.11)
- Сетевые Соединения: в поле Insert/Edit появились поля и кнопки подвязки Устройств А и Б (вместо выпадающих полей).

v5.33 (28.02.11)
- Сервисы: изменена форма ввода новой записи, добавлено поле "Офис Клиента", выбор которого влечет заполнени полей формы автоматически. (Поля: Породавец, Клиент, Населенный пункт, Адрес, Контакт, №НС, Оборудование, Введено в эксплуатацию, Примечание, № задачи в планере).

v5.33.1 (01.03.11)
- В форме "Выбор устройства" записи отображаются с учетом флага "показывать демонтированное" (см. меню Edit).

v5.33.2 (09.03.11)
- Надписи и фон закладок: Тех.Площадки, СетевыеУстройства, СетевыеСоединения, ОфисыКлиентов, СервисыКлиентов - отображаются разным цветом.

v5.33.3 (10.03.11)
- Исправлена ошибка: при создании Сервиса не верно выбирался менеджер.

v5.33.4 (11.03.11)
- В форме добавления СК в подписи поля «Трасса бо сети (без ПМ)» убрал слово (без ПМ). Также значение поля  Статус канала, по умолчанию (при добавлении) установил «в эксплуатации».
- В форме добавления ОК, по умолчанию поле Статус установил  «в эксплуатации».
- При добавлении новой записи в закладке Сервис, автоматически создавать запись в закладке СК. Добавил поле net_data.zaporozhie int(11) unsigned default=0.
- Исправил ошибку: в закладке Сервис не изменялось значение поля Приоритет.

v5.33.5 (11.03.11)
- Добавлен каталог: tab_katal_last_mile {
   id int(2) auto_increment,
   last_mile varchar(150)
}
- В ОК в поле "Последняя миля" информация берется из каталога tab_katal_last_mile.

v5.33.6 (14.03.11)
- Исправил ошибку: при добавлении ОК + добавление названия клиента в справочник = офис не добавлялся.

v5.33.7 (14.03.11)
- В СК поиск происходит не только по полям net_data, но и по полям zaporozhie (тем записям, которые связаны с СК).
- При отображении информации об СК, так же отображается информация о Сервисе (подвязанном).

v5.33.8 (15.03.11)
- В таблице на стр. СК отображаются поля net_data, вместе с полями из zaporozhie.

v5.33.9 (16.03.11)
- в СК добавил кнопку "Офисы" при ее нажатии клиент перескочит в закладку ОК и покажет(отфильтрует) те офисы к которым привязана данная услуга.
- из поля просмотр записи СК в меню добавил позможность открыть IP-адрес в броузере.

v5.33.10 (17.03.11)
- При просмотре информации о записи СК добавил возможность подключаться по telnet к Устройству А (telnet...) или Устройству Б (telnet 2...).
- При просмотре информации о записи СК добавил возможность подключаться по http к Устройству А (http://...) или Устройству Б (http:// 2...).

v5.33.11 (17.03.11)
- При просмотре информации о записи СК добавил возможность просмотра информации об Устройстве А и Устройстве Б.
- Исправлена ошибка: при редактировании СК не отображалась обновленная информация в таблице.

v5.34 (29.03.11)
- Добавлен Wizzard: пункт МЕНЮ (Edit/New>), который добавляет новые записи в ТП, СУ, СС, ОК, СК.

v5.34.1 (30.03.11)
- Исправил ошибку: при создании ОК поле "Примечание" не сохранялось.

v5.34.2 (05.04.11)
- Исправил ошибку: при закрытии ТТ не проверялось, что дата закрытия должна быть больше даты открытия ТТ.

v5.34.3 (06.04.11)
- Исправил ошибку: исчезали данные о переработке выездной группы - причина: при удалении записи в "управлении выездной группой" могли удалиться не те данные.

v5.34.4 (06.04.11)
- В закладках Активные, Отложенные, Плановые, Все за период, Все для клиента, Поиск ТТ сортировка записей к ТТ происходит сначала по дате, затем по времени в порядке убывания.

v5.34.5 (07.04.11)
- Исправил ошибку: в Wizzard в СК не отображалась улица при подвязке ОК. Но в БД все вносилось правильно.

v5.34.6 (12.04.11)
- Исправил ошибку: при изменении статуса "мастер" ТТ иногда появлялась ошибка (которая на результат не влиял, только на отображение результата).
- Создана утилита (шаг №1) по переносу данных из табл. zaporozhie в табл. tab_data и office_kli.

v5.34.7 (15.04.11)
- В зак-ке Сервисы кн. Создать ТТ доступна только level=5.

v5.34.8 (17.04.11)
- Для СК изменен формат записи данных в таблицу index_tab.

v5.34.9 (18.04.11)
- Исправил ошибку: не верно работала кн. Сервисы в закладке ОК.

v5.34.10 (20.04.11)
- Закладка СК, редактировании записи: поле в табл. net_data изменяется, если было изменение в соответствующем поле формы редактирования.

v5.34.11 (21.04.11)
- В СК изменен SQL-запрос, при добавлении записи поле zaporozhie="1".

v5.34.12 (22.04.11)
- В СК при редактировании изменен порядок обновления записей в таблице: если изменений небыло, обновления не будет, иначе обновиться с параметрами из строки "Поиск".

v5.34.13 (26.04.11)
- Зак-ка АКТИВНЫЕ: в поле "фильтрация ТТ по № и Клиенту" фильтрация ТТ произойдет после нажатия кн. Enter.

v5.34.14 (27.04.11)
- При зпуске программы в закладке БАЗА активное окно стало СервисыКлиентов.

v5.34.15 (28.04.11)
- Исправил ошибку: при выборе кн. Подвязать офис в СК и закрытии окна без выбора офиса в поле Офис А (или Б) менялось значение.

v5.34.16 (29.04.11)
- Исправлена ошибка: не верно подсчитывались (иногда) переработки для Выездных Групп.

v5.34.17 (29.04.11)
- При Добавлении/Редактировании СУ поле "Название устройства из справочника" обязательно для заполнения.

v5.34.18 (5.05.11)
- Исправил ошибку: при редактировании выезда бригады, при удалении времени откончания изменеий не происходило.

v5.34.19 (5.05.11)
- В OК при редактировании изменен порядок обновления записей в таблице: если изменений небыло, обновления не будет, иначе обновиться с параметрами из строки "Поиск".

v5.35 (10.05.11)
- Изменил тип поля: net_data.CID varchar(50) // был int(7).
- В форме выбора Офиса Клиентов (открывается или из редактирования/добавления СК или из wizard) добавил поле "сетевое устройство" и "порт" к которому привязан офис а так же перенес в конец поля "Облась" и "Страна".

v5.35.1 (11.05.11)
- Исправил ошибку: не добавлялись значения полей device и chart_joint в office_kli.

v5.35.2 (11.05.11)
- В форме выбора Офиса Клиентов (открывается или из редактирования/добавления СК или из wizard) поле "Название из NMS" подтягивается из net_equip.name_nms.

v5.35.3 (12.05.11)
- Синхронизировал внешний вид форм wizzard и Редактирования для ОК и СК.

v5.35.4 (17.05.11)
- Синхронизировал внешний вид форм wizzard и Редактирования для ТП, СУ и СС.
- В закладке ОК убрал кн. "Подвязать паспорт на ЛД". Эта функция перенесена в форму Добавления/Редактирования ОК.

v5.35.5 (19.05.11)
- Адаптировал систему ТТ и систему мониторинга по плановым работам.
Что получим в результате:  если система мониторинга определит что вот этот аларм относится к  плановому ТТ, на такой аларм не будут создаваться ТТ автоматически, а также в сам аларм будет добавлена инфо  с номером планового ТТ и пометкой что аларм относится к плановым работам.
Для полноценного взаимодействия необходимо что бы в ТТ были указанны время начала и время окончания плановых работ.
Время начала плановых работ у нас есть это trubl.date(и time)_of_start
Нет времени и даты окончания плановых работ, задействуем пустующие поля  trubl.otlogeno_date и trubl.otlogeno_time
Изменения интерфейса небольшие, подправил что при создании ТТ  и выборе «тип ТТ» как «Плановые работы» появлялись два поля  с надписью  Дата/Время окончания плановых работ значения из которых внесутся в trubl.otlogeno_date и trubl.otlogeno_time 
Также прошу добавить проверку для такого типа ТТ,  что бы эти два поля заполнялись обязательно и Дата  + время окончания работ были > чем дата время начала.
- Так же добавил эту же логику и такие же поля в  форму редактирования ТТ = "Поиск ТТ".

v5.35.6 (19.05.11)
- Закладка СК: в поиск добавил поле CID.

v5.35.7 (20.05.11)
- Форма Edit/Insert для СК: фигурные скобки ( {, } ) в полях "Трасса для расч.схемы", "Трасса по сети" и "Примечание" будут заменяться на кавычки ( " ).
- Закладка "Активные": при щелчке на ТТ в таблице записи - курсор будет находиться на последней записи в таблице.

v5.35.8 (20.05.11)
- Из закладки СЕРВИС кн. "Редактировать запись" убрана (кроме 5-го уровня доступа).

v5.35.9 (20.05.11)
- Отключил перевод курсора на последнюю запись в "Записях ТТ" при щелчке на "Активном" ТТ.
- Отключил автозаполнение поля "Клиент" в СК при потере фокуса на "Офис А" или "Офис Б".

v5.35.10 (20.05.11)
- Исправил неточности.

v5.36 (30.05.11)
- Заменил компонент DBGrid на компонент DBGridEh, т.е. заменил все таблицы для вывода данных.

v5.36.1 (30.05.11)
 - Исправил ошибку: не верно подсчитывалось время переработки для выездной группы.

v5.36.2 (31.05.11)
- Исправления в интерфейсе (таблицы: Отложенные, Плановые, Добавить запись).

v5.36.3 (31.05.11)
- Исправления в интерфейсе (таблица: Плановые).

v5.36.4 (1.06.11)
- Исправил ошибку: при создании СК в Wizzard не верно формировалась запись в index_tab.

v5.36.5 (1.06.11)
- В ОК поле "Скорость включения" и в СК поле "Емкость" можно внести ТОЛЬКО число (только в Wizzard).

v5.36.6 (2.06.11)
- В таблице "Партнеры" удалять записи можно если нет подвязок к таблицам ОК и СК.

v1.8.10 (3.06.11) - сервер
- При запущенном сервере и значением tab_servind.ind<>1 будет выдаваться сообщение: «Дата время, работа сервера прекращена по команде БД».

v1.8.11 (3.06.11) - сервер
- Изменил форму оповещения о поставленном наряде на выезд (добавил строку: ТТ открыт на основании + trubl.description).

v5.36.7 (8.06.11)
- Исправил ошибку: не сохранялся отчет выездной группы, в котром работы длились более суток.

v5.36.8 (8.06.11)
- Внес изменения в форме Insert/Edit для СУ (принцып нахождения номера в таблице для строки "... из справочника").

v5.36.9 (9.06.11)
- В Wizzard добавил защиту от ковычек (") для СК.

v5.36.10 (20.06.11)
- Плановые работы: MySQL неадекватно отрабатывал поиск по полю beg_date тип date. Исправил на уровне SQL-запроса.

v5.36.11 (22.06.11)
- При Edit/Insert в СК сделана проверка: В поле "Емкость (Mbps)" должно быть число.

v5.36.12 (23.06.11)
- Просмотр информации об СК (двойной щелчек на записи): изменил расположение информации на поле и цвет.

v5.36.13 (23.06.11)
- При добавлении нового клиента, форма Партнеры, проверяется совпадени названия клиента по полю tab_klients.client (раньше проверялось еще поле tab_klients.admin).

v5.36.14 (25.06.11)
- Подправил цветовую легенту ТТ в заладке Trouble Ticket ->Плановые: 
Желтый фон - всем ТТ у которых (((дата  начало = Дата сегодня ) or ((Дата начала работ < Дата сегодня) and (Дата время окончания работ > дата время сейчас)))
Белым выделятся все ТТ, где  (дата начала работ > Дата сегодня )
Красным выделятся все ТТ, у которых  ((дата начало работ < Дата сегодня) and (Дата время окончания работ < дата время сейчас)).
- В закладке Плановые ТТ не показываются поля Дата  и  Время, вместо них ввел вычисляемое поле под названием "Время работ", в которое вносятся данне о проведении работ по двум принципам:
1.Если  Дата Начала и Окончания работ совпадают формат такой:  "Дата начала  Время начала - Время окончания" (Пример: 24.06.2011 16:00-18:00)
2.Если Дата начала и Окончания работ не совпадают формат такой: "Дата начала Время окончания - Дата окончания работ Время окончания работ" (Пример: 24.06.2011 16:00 - 25.06.2011 09:00).

v5.36.15 (29.06.11)
- Исправил ошибку: появлялась при закрытии Плановых ТТ.
- Добавил проверку в Спутник/Клиенты: при изменении в поле Страна, очистить поля Область и Город; при изменении в поле Область, очистить поле Город.

v5.36.16 (01.07.11)
- Изменеия в интерфейсе: добавил, что бы при двойном тапе на наряд на выезд  открывалось информационное окно, такое же  как будто бы мы два раза тапнули на сам ТТ в закладке Активные.

v5.36.17 (05.07.11)
- В СК добавил в поиск поле planerid (№ задачи в планере).

v1.8.12 (7.07.11) - сервер
- модернизировал распределение из очередей так, что при подсчете "сколько активных ТТ закреплено за сотрудником" считаются только те, у которых время между сейчас и последней записью меньше 180 минут. 

v5.36.19 (07.07.11)
- Исправил ошибку: в "Активных" не отображалась информация с плановых ТТ.

v5.36.20 (14.07.11)
- Изменения в интерфейсе: добавил масштабирование элементов закладок при увеличении формы ClientsDB. Закладки: БАЗА,Аварийки, Все выезды.

v5.36.21 (22.07.11)
- При создании любого ТТ  с типом ТТ: "по обращению клиента" после нажатия кнопки Добавить ТТ сотруднику выводится информационная формочка в которой написано (только обычным черным цветом):
ТТ № : xxxxxxxx
Клиент: "подтягивается информация из индексной таблицы"
- Исправил ошибку: не верно отображалась информация о записи в з-ке Collocation (для части записей).

v5.36.22 (2.08.11)
- в Тrouble ticket закладка Поиск ТТ доступна всем уровням доступа.
- Модернизировал действия при закрытии  клиента для обеспечения оптовой передачи активных ТТ.
(если клиентская часть БДСЭ закрывается, и у этого рабочего места expworkers.absence =3 пользователю предлагается оптом передать все ТТ тому рабочему месту которое выберет пользователь. Или не передавать если выберет соответствующую строку.)
- Для 1-го и 4-го уровня доступа исправил смещение в отображении закладок ("БАЗА").

v1.8.13 (2.08.11) - Сервер
- Отложенные, модернизировал возвращение из отложенных такми образом:
а. если закладка за которой ТТ закреплен активна (expworkers.absence = 0 или 3) возвращается из отложенных именно в свою закладку.
б. если закладка не активна (expworkers.absence = 1 или 2) распределяет на группу к которой относится рабочее место, отдать тому рабочему месту в группе у которого меньше всего ТТ. Если ни одно рабочее место в группе не активно (expworkers.absence = 1 или 2) выполнить по варианту а игнорируя статус рабочего места (не обращать внимание на значение поля expworkers.absence).

v5.36.23 (3.08.11)
- З-ка Поиск ТТ: исправил, если ТТ не найдено, то выводится надпись "Такого ТТ не существует".

v5.36.24 (4.08.11)
- Внес изменеия в анализ закрытия ClientsDB.

v1.8.14 (5.08.11) - Сервер
- Изменил запись в ТТ при выводе его из отложенных (добавил рабочее место куда вернулось ТТ).

v5.36.25 (9.08.11)
- В табл. trubl добавил поле master_info varchar(150) default ''.
- Добавил в форму создания ТТ два поля: "Срок устранения" и "Официальная версия инцидента". Если инженер их заполнит при создании ТТ, то эти данные обьеденятся и внесутся в новое поле "официальная версия" если не заполнит то поле оставляем пустым.

v1.8.15 (11.08.11) - Сервер
- Все функции перевел на работу с временем с сервера.
- Добавил проверку времени на эскалацию ТТ (время создания ТТ меньше вресени сейчас).

v5.36.26 (17.08.11)
- Поля: "Срок устранения" и "Официальная версия инцидента" перенесены из формы "Создать ТТ" в форму "Добавить запись".
Получитм такой бизнес процесс:  сотрудник у которого ТТ стал материснким при добавлении новой записи просто обязан будет внести данные о официальнйо версии, о сроках и причине которую можно озвучить клиентам. При каждом новом добавлении записи,  поля заполнятся автоматиески и он сможем подкорректировать данные  если что то вдруг изменилось.

v5.36.27 (18.08.11)
- В поле "Срок устранения" добавлена проверка на ввод даты в формате = час:минуты день:месяц.
- В поле "Срок устранения" по умолчанию (т.е. при первом добавлении) подставляется дата на 8 часов больше, чем время добавления записи.

v5.36.28 (19.08.11)
- исправил ошибку: при поиске в СК в поле CID поиск происходил с учетом регистра.

v5.36.29 (19.08.11)
- Исправил потенциальную ошибку при изменеии статуса "материнского" ТТ из состояния "П" в - "У".

v5.37 (26.08.11)
- Автоматическая координация при создания ТТ для СК.

v5.37.1 (08.09.11)
- Исправил ошибку: при добавлении записи в "материнский" ТТ тип string не корректно переводился в тип date.

v5.37.2 (20.09.11)
Автоматическая координация:
- Функциональная часть :  если уже наступила автоматическая координация, мы показываем на экране поля 
координации, галочка (подчинить к "М") автоматически устанавливается если вероятность больше 50%, если вероятность меньше 50% форму показываем, но галочка не поставлена, ее инженер может поставить самостоятельно. Соответственно если галочка стоит, ТТ создается и сразу подчиняется к материнскому. Если не стоит. просто создается как сейчас.
- Информационная часть: имея номер ТТ по которому произошла автоматическая координация, подтягиваем из него инфрмацию о официальной причине и сроке устранения.
Если там данных пока нет, то отображаем там инфо по умолчанию, а именно, причина уточняется, срок уточняется.
 
v1.8.16 (20.09.11) - Сервер
- Таблица tab_servind переименована в tab_servind2.

v5.37.3 (20.09.11)
- Исправил ошибку: появлялась при назначении ответственного за ТТ.

v5.37.4 (21.09.11)
- Автоматическая координация: добавил обработку если "причинный" ТТ сам является подчиненным. В этом случае № "материнского" ТТ будет "материнский" для "причинного" ТТ.

v5.37.5 (26.09.11)
- Автоматическая координация: добавил изменеия в информацию, добавляемую в автоматически создаваемую запись к ТТ.

v5.37.6 (28.09.11)
- В автоматическую координацию добавил дав поля "Контакт" и "Что сделано", для автоматического добавления записи в ТТ о причине аварии.

v5.37.7 (29.09.11)
- в закладку Спутник/Клиенты для отображения в таблице добавил поля "Название устройства" и "Спутник".

v5.37.8 (03.10.11)
- Сделал изменеия в интерфейсе автоматической координации.
- Добавил возможность посмотреть информацию о "материнском" ТТ по гипперссылке номера ТТ.

v5.37.9 (10.10.11)
- При подчинении ТТ в выпадающем списке с номерами ТТ синим цветом показаны "материнские" ТТ, а остальные - черным.

v1.8.16 (17.10.11) - Сервер
- в serv_queue_tt добавил поле kli_orient int(1) - пометка о поклиентском распределении.
- при распределении ТТ на инженеров: если в очереди есть ТТ по одному клиенту, то распределяются эти ТТ на одного свободного инженера (а не на нескольких, как это было раньше).

v5.37.10 (18.10.11)
- В Wizzard и в Edit/Insert СетевыхУстройств удалено поле "Инвентарный номер".

v1.8.18 (24.10.11) - Сервер
- Подправил формат письма о новом наряде (без привязки к ТТ).

v5.37.11 (31.10.11)
- В табл. tab_servind2 добавил поле deb varchar(255) - вносится информация при закрытии сервера клиентом.
- В Клиенте добавлен функционал: при закрытии сервера в поле tab_servind2.deb вносится информация о текущем времени, время в закрываемом сервере, имя пользователя и версия клиента.

v5.37.12 (9.11.11)
- В Клиенте добавлена проверка: при закрытии сервера проверяется совпадения год сейчас должен совпадать с годом из поля servind2.dt (а уже после этого время простоя > 30 минут).  

v1.8.19 (17.11.11) - Сервер
- Борьба за правильное распределение ТТ на рабочие места.

v5.37.13 (24.11.11)
- Сортировка, при отображении записей в ТТ, выполняется в такой последовательности, Дата, Врем, num_zap_trubl   по возрастанию. 
- Убрал секунды при отображении  записей в ТТ 
- Закладка СУ, сделал интуитивно понятные надписи на кнопках : Клиенты –> Офисы клиентов, Соединения –> Сетевые Соединения, аналогично пересмотреть названия кнопок в закладках ОК,СК,ТП 
- Тестовая эксплуатация, сразу закрепление ТТ за ответственным и откладывание на 13 дней с учетом выходных. 
- Спутниковый интерфейс, создается ТТ тестовой эксплуатации на СУ ( а не на ОК) все остальные создаваемые объекты будут иметь статус в эксплуатации.  

v5.37.14 (25.11.11)
- При наступлении автоматической координации, при создании ТТ  в поле «Срок устранения» вписываются интуитивно понятные даты, строго: вчера, сегодня, завтра, послезавтра, во всех остальных случаях ничего не менять. (Если будет выбран тип ТТ «по обращению клиента» в поле Сообщаемая информация» за Датой в скобках тоже добавить вчера, сегодня, завтра, послезавтра. 

v5.37.15 (30.11.11)
- Если ТТ имеет значения tab_on=0 и inv_num_kli =0 разрешено его подвязывать к объекту. Объектом может быть СК,ОК,СУ,ТП,СС. 

v1.8.20 (6.12.11) - Сервер
- Модернизировал процесс распределения ТТ из очередей: за один цикл по одному ТТ на каждое «свободное рабочее место в группе», с учетом действующих на сейчас правил.

v1.8.21 (7.12.11) - Сервер
- Cоздал таблицу tab_setup_serv и начальные данные (кроме IP-адреса) берутся из нее, а не в ini-файле.

v5.37.16 (7.12.11)
- Исправил ошибку: при операции "Отложить ТТ" можно было отложить другой ТТ (попереключавшись между открывшимся окном в ыбрав в таблице другую запись).

v5.37.17 (12.12.11)
- Исправил ошибку: при внесении тестовых ТТ через визард не срабатывала функция закрепления за ответственным инженером и отложить на 13 дней.

v5.37.18 (13.12.11)
- Исправил ошибку: при создании СК (в Wizzard) и паралельно создании ОК не верно отображались данные в новом СК.

v5.37.19 (14.12.11)
- Email оповещение о открытии и закрытии ТТ, добавил два  поля в TT , 1- email_send (если их несколько через точку с запятой без пробелов) 2- email_doing поле действие по email (open, close).

v1.8.22 (15.12.11) - Сервер
- Добавил функцию "Email оповещение о открытии и закрытии ТТ" - при выборе которой будет осуществляться рассылка e-mail(-ов) про открытие и закрытие ТТ.

v1.8.23 (19.12.11) - Сервер
- При "Email оповещении..." в названии клиента вставлялись секращения, т.е. ТП, СК и т.д. Эти сокращения - убрал.

v5.37.21 (22.12.11)
- Убрал поля "E-Mail" из закладок "Добавить ТТ" и "Закрыть ТТ". Сдела так, что е-mail можно добавлять добавлять непосредственно в поле "Описание"/"Причина инцидента". Функционал "Email оповещения" остался неизменным.

v1.8.24 (22.12.11) - Сервер
- При "Email оповещении..." если время между текущим и временем открытия/закрытия ТТ больше 36 часов, то письма не отправляются.

v5.37.22 (23.12.11)
- При создании ТТ и добавлении email-адресов, в полe trubl.email_send (в конец) будет добавлен адрес инженера, создавшего это ТТ (если тагого адреса в tab_access не обнаружится то будет добавлено "?;"). На этот адрес будут отсылаться письма в скрытом режиме.
- Отменил п.1 (в полe trubl.email_send добавление email-адреса создавшего ТТ)    

v1.8.25 (23.12.11) - Сервер
- При "Email оповещении...": добавляет email-адрес создателя ТТ в скрытую копию письма. Работает с клиентом v5.37.22 и выше.
- При "Email оповещении...": если ТТ создан на СК и один из ОК имеет id_kli = {16254 || 16255} то письмо НЕ будет отправлено.
- При "Email оповещении...": к ТТ добавляется запись: на такие-то адреза отправлено сообщение Open TT.../...TT - Close.
- В поле trubl.prichina вносят кавычки ("), что приводит к ошибке. Теперь заменяются кавычки (") на косая+кавычки (\") - это убирает ошибку.

v5.37.23 (26.12.11)
- В закладке "Плановые работы" поле "Кто подал заявку" в форме Добавления записи переименовано в "Кто подал заявку (обязательно впишите email)". В этом поле email вырезается и добавляется в автоматически создаваемый ТТ (trubl.email_send). 

v5.37.24 (27.12.11)
Задача: Необходимо хранить историю изменений статусов, для построения корректных отчетов по спутнику для продажников. Хранить статусы необходимо для таблиц ТП, СУ, СС, СК, ОК

- создал таблицу tab_status_history с полями:

1.id int(7) unsigned auto_increment - (идентифицирует номер записи в таблице)

2.id_zapisi int(11) unsigned - (номер записи в таблице)

3.id_tab int(3) unsigned - (номер таблицы: 3 = ТП, 4 = СУ, 5 = СС, 6 = ОК, 7 = СК )

3.old_status varchar(50) - (статус который имела запись в поле status_d до изменения)

4.new_status varchar(50) - (статус который стала иметь )

5.dt timestamp (обязательно берется с sql  сервера !!!! ВАЖНО в поле "по умолчанию" поставь CURRENT_TIMESTAMP)

- Mодернизироваk формы редактирования и создания записей в  ТП, СУ, СС, СК, ОК так, что при изменении статуса дополнительно вносилась информация в новую таблицу tab_status_history.
Для того что бы защититься от дребезга (когда сотрудник в одни сутки по несколько раз меняет статус) после того как статус был изменен в форме клиента, силами клиента просматривать таблицу tab_status_history  если в эту же дату уже было изменение статуса, обновить эту  запись до нового статусу, если не было, то создать новую запись.

v1.8.26 (29.12.11) - Сервер
- Добавил функционал рассылки E-Mail при аварииях: найдя запись с кодом 61, в любом ТТ,  отправляет письмо на emailы указанные в этом ТТ (шаблон ниже) меняет код записи с 61 на 62 и добавляет запись о том что на таких то адресатов отправлена такая то официальная информация.

v5.37.25 (29.12.11)
- При добавлении или изменении официальной версии инцидента (trubl.master_info) добавляется запись в этот ТТ и во все подчиненные ТТ с кодом  61 и официальной версией инцидента.

v1.8.27 (4.01.12) - Сервер
- Изменился формат добавляемой записи к ТТ при автоматической отправке письма о причинах аварии.

v5.37.26 (4.01.12)
- Изменился формат добавляемой записи к ТТ при добавлении информации о причинах аварии.

v5.37.27 (5.01.12)
- Изменился формат добавляемой записи к ТТ при добавлении информации о причинах аварии.

v5.37.28 (5.01.12)
- Изменеия в закладке Активные/Добавить запись: при заходе в закладку кнопки ктановятся недоступны. Попасть в закладку для добаления можно только через кн. Добавить запись в закладках Активные, Отложенные, Плановые.

v5.37.29 (10.01.12)
- В окне Справочники/Партнеры... по двойному щелчку на записи в таблице появиься Информационоое окно.

v1.8.28 (10.01.12) - Сервер
- Разделил процессы отправки писем (Open, Update, Close) на три отдельных "галочки". Последовательность выполнения процедур: 1) Close, 2) Update (проставляет email_doing="open" при условии, что старый email_doing<>"close"), 3) Open.
- Отключил защиту: не отсылать письма open/close, если прошло больше 36 часов. 

v5.37.30 (11.01.12)
- Добавил индикатор работоспособности модуля CIC который создает ТТ (CIC->TT). 
Косвенно это дает возможность оценить работает он или не работает по появлению новых записей в таблице с логами. nc_tt_log поле nc_tt_log.finished.
Если на протяжении последних 6 часов не было ни одной записи  значит модуль не работает.

v1.8.29 (11.01.12) - Сервер
- В процессы отправки писем (Open, Update, Close) введены огранечения по времени: время от создания записи до отправки письма не должно превышать 72 часа.

v5.37.31 (11.01.12)
- Исправил ошибки.

v5.37.32 (12.01.12)
- При создании ТТ распознавание email происходит вне зависимости от выбранного "Типа ТТ".

v1.8.30 (12.01.12) - Сервер
- Изменил формат письма, отсылаемого при Закрытии ТТ.

v5.37.34 (18.01.12)
- Модернизация email оповещение при процессе подчинения: 
Автоматическая координация при создании ТТ: ТТ автоматически подчиняется если вероятность больше 50 процентов, в таком случае у нас сейчас в форме создания ТТ ставится галочка, подчинить ТТ. Если галочка подчинить не стоит – мы ничего не проверяли просто создавали ТТ и все.
Если у ТТ по обращению клиента, стоит галочка «Подчинить ТТ»   и в поле «Описание» внесен email  то модуль который проверял все ли данные внесены для создания ТТ не  кричал бы что  надо заполнить  поле Первый контакт с клиентом. А просто брал и подчинял ТТ, если есть официальная версия – добавлял ее и готовил к email отправке, если нет официальной версии – не добавлял в ТТ.
Встанет вопрос коллизий,  что делать если при создании автоматически подчиняемого ТТ у которого есть email и  в поле «Первый контакт с клиентом» что то внесено  инженером  ?
Решение простое,  для всех ТТ у который хесть email адресаты, при автоматическом подчинении если в материнском ТТ есть  официальная версия – плевать  что там написал инженер,  заменяем ее  официальной версией.

v1.8.31 (19.01.12) - Сервер
- Cоздал процесс (Контроль по рассылкам Таможни (для Федоровича)) который находит все открытые ТТ подвязанные к таможне и добавлять им в поле  trubl.email_send адрес Vassyl.Cherepanynets@datagroup.ua.
Этот процесс запускаеться до процесса который отсылает инфо о открытии закрытии и update ТТ.
- Реализовал небольшую косметику в шаблоне отсылаемом при UPDATE и CLOSE.

v5.37.35 (19.01.12)
- в фравзе "расчетный срок окончания" маленькую буквц "р" заменил на большую - "Р".

v5.37.36 (20.01.12)
- Исправил ошибку: возникала при повторной автоматической координации.

v5.37.37 (20.01.12)
- Исправил ошибку: при подчинении ТТ к "материнскому" не верно добавлялась запись для отправки писем.

v5.37.38 (23.01.12)
- При добавлении клиента в поле trubl.triority записывается значение из соответствующего поля tab_klients.class для СК, ОК, Collocation.
Для СС class=0, а для ТП и СУ class=3.

v5.37.39 (24.01.12)
- В закладке ОК записи №№ 16254 и 16255 запрещено редактировать.
- В закладке Поиск ТТ при редактировании ТТ: если в поле "описание" внесены email-адреса то они будут распознаны и внесены в поле email_send.

v1.8.32 (24.01.12) - Сервер
- При отправке писем клиентам часовой пояс (UTC) берется с сервера.

v1.8.33 (25.01.12) - Сервер
- Добавил таблицу serv_mail_send:
id_sector int(2) unsigned def=0 Primary_Key -  указывает на сектор, тоесть на ячейку resp_sector.id
mail_from varchar(512)  –  Aдрес от которого будут слаться письма, по ТТ закрепленными за этим сектором
mail_blind varchar(512) –  Aдрес или адреса через точку с запятой, будут ставиться в скрытую копию всех писем отсылаемых от имени этого сектора 
server  varchar(100) –  ip или доменное имя  mail сервера
login  varchar(100) -  логин для доступа к почтовому серверу
pass  varchar(100) – пароль 
state int(1) unsigned def=0 – ( 1 – шлет письма,  0 – не шлет)
- При рассылке писем (Open, Update, Close) о состоянии ТТ информащия о адрессатах и сервере берется из табл. serv_mail_send.

v1.8.34 (30.01.12) - Сервер
- процесс "распределять подчиненные ТТ в очереди (queue): при закрытии материнского ТТ, сервер выводя все ТТ из подчинения,  переносил из материнского в подчиненные ТТ, значения из  полей "причина инцидента" и КЛАССИФИКАЦИЯ (три поля), а Дату  и время закрытия  переносил в поле  date_of_close (это что бы данные в ТТ были но ТТ не считался закрытым.)

v5.37.40 (30.01.12)
- При нажатии кнопки «Закрыть ТТ», то в форму закрытия ТТ подтягиваются данные из этого же ТТ (внесенные ранее сервером), все поля кроме поля "Закрыл" (пусть работает по той же логике как сейчас), а время подтягивается из поля  date_of_close.

v5.37.41 (31.01.12)
- В табл. tab_nclass добавил поле name char(20).
- В табл. tblinform2 поле nclass изменил тип, стал char(20) (т.е. tblinform2.nclass char(20)).
- В закладке Тех.Площадки поле "Класс"  может принимать не только числовое значение,а и символьное.

v5.37.42 (01.02.12)
- Исправил ошибки в закладке Создать ТТ.

v5.37.43 (02.02.12)
- В закладке Активные в "зоне ответственности" записи сортируются по алфавиту.

v1.8.35 (03.02.12) - Сервер
- Исправил ошибку при распределении отложенных ТТ.

v1.8.36 (09.02.12) - Сервер
- Исправил ошибку: при наличии двух изменений официальной версии к ТТ формировалось два письма клиенту, теперь - одно.

v5.37.44 (10.02.12)
- Добавил отображение последнего изменения поля автономность ТП при двойном щелчке на записи о ТП или на открытый на нее ТТ.

v5.37.45 (14.02.12)
- Откатил тип поля tblinform2.nclass  назад на числовой int(1). В табл tab_nclass удвлил поле name.
- Во всплывающем окне о СК, сделал цветовое отличие для  «Трасса для рассчитываемой схемы»: ОК1, ОК2 - выделяется жирным, а то что между ними - не жирным шрифтом.
- Добавитл прямую координацию, при добавлении записи в ТТ.
- Форма "Поиск ТТ": при удалении в поле date_of_end и если у этого ТТ в поле email_doing=close то значение поля email_doing меняется на open.
- Исправил ошибку, возникающую при закрытии ТТ.

v5.37.46 (16.02.12)
- Исправил ошибку: не верная сортировка имен в "Зоне ответственности".

v5.37.47 (16.02.12)
- Изменил размер поля в БД Klients: trubl.master_info = varchar(500), zapisi_trubl_tic. desc_zapisi = varchar(500).
- При добавлении записи в поле "Что сделано" можно внести не более 500 символв.
- При добавлении записи в "материнский" ТТ в поле "Официальная причина простоя" можно внести не более 450 символв.

v5.37.48 (16.02.12)
- закладка Статистика\Нагрузка: график "Всего записей" без записей, созданных автоматом.

v5.37.49 (20.02.12)
- Модернизация  интерфейса в закладках: Отложить, Бригада на выезд, Назначить ответственного, Добавить запись.

v5.37.50 (21.02.12)
- В з-ке Активные теперь приоритет ТТ изменяется в пределах [0..10].
- В з-ке Аварийки кн. Приоритет - убрал, добавил всплывающее меню "Назначить приоритет выезда..." с аналогичным функционалом. Изменения = [0..10].

v5.37.51 (21.02.12)
- В з-ке Сетевые Соединения добавил возможность вывода инфо + telnet + web-заход на оба устройства после вывода полной инфо (два клика левой клавиши мыши + затем щелчок правой клавишей).

v5.37.52 (22.02.12)
- В табл. tab_nclass добавил поле name char(20). В это поле вносятся цифрово-буквенные значения класса (1,2, 2а,3,...).
- В табл. tblinform2 добавил поле nclass_d char(20).
- В закладке Тех.Площадки поле "Класс"  может принимать не только числовое значение,а и символьное.

v5.37.53 (23.02.12)
- Исправил ошибку: не закрывались подчиненные ТТ открытые по "ошибке NMS".

v5.37.54 (12.03.12)
- В закладке Спутник/Клиенты добавил возможность сортировать данные таблицы по полям: Клиент, Город, Спутник, Статус и Date_of_add (необходимо нажать на названии столбца в таблице).

v5.37.55 (21.03.12)
- Исправил ошибку: при закрытии ТТ с з-ки Отложенные - не верный формат даты.

v5.37.56 (21.03.12)
- Добавил защиту: в Справочнике "Клиенты" добавил проверку на точное совпадение названия клиента и частичное совпадение.

v5.37.57 (22.03.12)
- Модифицировал: форма сообщения о дубляже названия клиента.

v5.37.58 (26.03.12)
- Справочник Клиенты: добавил фиксацию времени и инженера добавившего клиента и признак отправки письма нкачальству о дублировании.
- В табл. tab_klients добавил поля:
last_change timestamp
user_add varchar(50)
send_status int(1) unsigned def 0 (* 0 - не отсылать, 1 - отсылать, 2 - отослано *)

v1.8.37 (26.03.12) - Сервер
- Добавил поле "E-Mail оповещение о дублировании в tab_klients".

v5.37.59 (28.03.12)
- Добавил таблицу tab_katal_official_vers с полями:
id  int(2) unsigned auto_increment
official_vers varchar(200),
В этой таблице хранятся официальные версии инцидента на сети ДАТАГРУП.
- Добавлено поле tab_access.date_of_add timestamp.
- В закладке "Добавить запись" добавил:
1) выпадающий список - с официальными версиями
2) если стаж инженера превышает 9 месяцев, то ему разрешено редактировать поле "Официальная причина инцидента", иначе - запрещено (только выбор из списка).

v1.8.38 (29.03.12) - Сервер
- При отправке писем об открытии-Закрытии ТТ ошибки, возникающие на почтовом сервере будут вносится в LOG-файл

v5.38 (4.04.12)
- Создана таблица net_operators
- Добавлена закладка Сервисы Субпровайдеров в з-ку БАЗА. Научил добавлять и редактировать записи.

v5.38.01 (5.04.12)
- В табл. net_operators добавил поля:
status_d int(2) unsigned default `0`
user_id int(3) unsigned default `0`
- Изменение статуса в ССУ фиксируется в табл. tab_status_history.
- В таблице з-ки ССУ если запись имеет статус `в эксплуатации` то зеленый фон, если - `демонтирован` или `не в эксплуатации` - красный.
- В закладке ССУ отображаются только те записи, в которых номер пользователя (под которым залогинился) и номер net_operators.user_id совпадают.

v1.8.39 (9.04.12) - Сервер
- Убрал email рассылку по Таможне для Федоровича.
- Добавил email рассылку по Проминвест банку для Федоровича.

v5.38.02 (12.04.12)
- Если сервис субпровайдера не привязан ни к чему он отображается на красном фоне (если в net_operators.data_id = ноль).
- Если привязан к ОК, СК или СС, который находятся в любом статусе кроме «в эксплуатации» то выделять желтым (анализируется поле status_d в таблице, если значение поля равно 2 – фон записи делаем белым, иначе - фон желтый).

v5.38.03 (12.04.12)
- Отменил проверку - подвязан ли ССУ к обьекту.
- При добавлении ССУ кавычками обрабатываются без сложностей.
- В форму поиска СервисовКлиента добавил "скорость" и "название клиента".
- Добавил возможность копировать в буфер для дальнейшей вставки в эксель в закладке СервисСубпровайдера.
- При загрузке в закладке сервис субпровайдера таблица будет пустая.

v1.8.40 (23.04.12) - Сервер
- При отсылке письма (UPDATE) при формировании списка ТТ для отсылки по ним писем, добавил проверку (email_doing = "open").

v5.38.04 (25.04.12)
- В табл. net_operators добавил поля:
town_a int(5) default=0
town_b int(5) default=0
nameclient_gridin char(200)
corp_retail char(15)
- Добавил эти поля в табл. ССУ, а также в форму Добавления/Редактирования.
- В ССУ кн. "Создать ТТ" убрал.
- В ССУ по нажатию кн. "Показать все ТТ" отображаются ТТ того (СК, ОК, СУ), к чему подвязан ССУ. 

v5.38.05 (27.04.12)
- Если ССУ ни к чему не привязана, то при нажатии кн. "Показать все ТТ" программа ничего не покажет.
- В форму ред./доб. ССУ добавил два поля "дом", адрес формируется: "улица" + "дом".
- В табл. "СервисыСубпровайдера" добавил поле "подвязан к...".
- При добавлении наряда в текстовые поля можно смело добавлять кавычки ( " ) .
- При написании отчета выездной бригады, табулящия работает и в блоке "Состав бригады".
- В ССУ можно подвязывать даже к тем, у кого в названии есть кавычки ( " ).

v5.38.06 (28.04.12)
- Из формы Ред./Доб. в ССУ поле "Модем на ПМ" (= tab_operators.modem) УБРАЛ.
- В табл. tab_operators добавил поля
speed_m char(10)
plannerid varchar(300)
- Поля speed и planerid в пр-ме ClientsDB не используются.

v5.38.07 (28.04.12)
- В форме Ред./Доб. ССУ поля "Улица", "Название", "Примечание" нормально воспринимают кавычки и фигурные скобки.

v5.38.08 (3.05.12)
- В форме Ред./Доб. ССУ в поля "Дом" и "Скорость" можно вводить только числа.
- В форме Ред./Доб. ССУ поле "Название клиента" воспринимает кавычки и фигурные скобки нормально.

v6.00 (4.05.12)
- Аналогично v5.38.08, написанная на Delphi 2007. Переходим на другую платформу.

v5.38.10 (15.05.12)
- Исправил ошибку: при изменеии статуса "материнского" ТТ с А,П на У появлялась ошибка - конфликт форматов дат (если перед этим к этому ТТ добавлялась запись).

v1.8.41 (21.05.12) - Сервер
Модернизация распределения из очереди,  будем учитывать еще и статус ТТ. А,П,У.
Добавил, что бы  вначале распределили аварийные затем повреждение и затем уведомление.
1.сортируется по статусу (поле  trubl.state_tt)  по увеличению, (т.к. 0 -авария 1-повреждение 2-уведомление)
2.сортируется  по приоритету (поле trubl.priority) по уменьшению
3.сортируется  по дате ( поле trubl.date_of_open) по увеличению
Дальше робот отсортировав список, берет самый первый в списке ТТ, смотрит есть ли свободный инженер, есть, распределяет и запускает процедуру проверки есть ли в очереди еще ТТ на этого клиента, если есть распределяет этому же инженеру)

v5.38.11 (30.05.12)
- Изменил формат вывода "№ ТТ" в закладке АКТИВНЫЕ (был 123456, стал 123 456).

v5.38.12 (18.06.12)
- Изменил формат отображения информации о СК в з-ке АКТИВНЫЕ, в остальных без измения.

v5.38.13 (18.06.12)
- 'Строка состояний' (внизу рабочего окна): при наведении на нее курсора мыши показывает дату последней активности CIC.

v5.38.14 (19.06.12)
- Добавил защиту: при постановке задачи на выезд, (нажатии кнопки Бригада на выезд) программа анализирует и делает разветвление:
Если у СК любой из ОК привязан к 16254 или 16255  задача не ставится, появляется информационное окно с текстом "Перед постановкой Наряда на выезд, привяжите Сервис Клиента  к Офисам Клиента"
Иначе ( то есть СК привязан к любым другим ОК) - ставим задачу на выезд.

v5.38.15 (19.06.12)
-	'Строка состояний' (внизу рабочего окна): вместо «Дата последней активности» напишем  «CIC->TT, последняя активность: N часов назад»
-	Добавил  в информацию о СК  которая отображается при щелчке из активных аварий: Офис А: + название офиса и аналогично для Офиса Б.

v5.38.16 (20.06.12)
- Закладка «Отложенные»: изменил алгоритм фильтрации, - он стал таким же как в закладке Активные (было: фильтрация происходит при каждом нажатии кнопки, а стало - только при нажатии кнопки ентер)
- Закладка «Все за период»: запускался запрос и показывал данные как только переходишь на закладку «все за период». Сделал: запрос и отображение данных запускается только после нажатия кнопки ПОКАЗАТЬ. 

v5.38.17 (25.06.12)
- Исправил ошибку: не верно водсчитывались часы переработки для бригад (если переработка и в начале и в конце рабочего дня).

v5.38.18 (5.07.12)
- Обнаружена угроза: в з-ке "Поиск ТТ" нет проверки на корректность ввода даты и времени. Добавил такую проверку. 

v5.38.19 (5.07.12)
- Закладки "Активные" и "Отложенные": при отображении информации о СУ (двойной щелчек на ТТ) будет отображено №ТТ и причина открытия ТТ. В остальных закладках используется старый шаблон.

v5.38.20 (30.07.12)
- Исправил ошибку: при редактировании записи в закладке Спутник/Клиенты в поле "Клиент" не изменялось название. Исправил. 

v1.8.42 (31.07.12) - Сервер
- Когда возникает ошибка при отправке письма, эта ошибка добавляется в ЛОГ-файл.

v5.38.21 (31.07.12)
- Добавил поле "ID в планере" для отображения информации о ОК (двойной щелчек мш. на записи ОК).

v5.38.22 (1.08.12)
- З-ка Поиск ТТ: при выборе в "Тип ТТ" значения "Плановые работы" появляются поля, в которых необходимо внести время окончания работ.

v5.38.23 (2.08.12)
- Исправил ошибку: при измении статуса "материнского" ТТ с А на У все подчиненные закрывались, теперь ТТ не закрываются а только добавляются к ним записи.

v5.38.24 (10.08.12)
- Иправил ошибку: При закрытии из вкладки « отложенные»  в поле Клиент, показывалось значение ранее закрытого ТТ из Активных.

v1.8.43 (10.08.12) - Сервер
- Все процедуры рассылки писем сделаны идентичными.

v5.38.25 (13.08.12)
- Исправил ошибку: при измении статуса "материнского" ТТ с А на У ко всем подчиненным добавлялись записи в Клиенте. Записи не добавляются. 

v1.8.44 (13.08.12) - Сервер
- Для "материнского" = уведомление из отложенных или плановых, подчиненные не распределялись по чередям. Исправил.

v5.38.26 (16.08.12)
- Исправил: поле последняя миля в ОК (net_office.chart_joint_nc), при введении через спутниковый интерфейс, заполняется автоматичесми значением <спутник>.
- Исправил: при вводе через спутниковый интерфейс - добавим поле "ID в планере", его данные автоматически вносятся поля planerid в таблицах net_equip и office_kli.

v1.8.45 (23.08.12) - Сервер
- Данные для отправки писем (сервер, логин, пароль, отправитель) берутся с serv_mail_send (где id_sector="3"), раньше брались из tab_setup_serv.

v1.8.46 (11.09.12) - Сервер
- Исправил ошибку: в блоке "Распределять входящие ТТ из очереди" исправил орфографическую ошибку в SQL-запросе при добавлении записи к ТТ.

v5.38.27 (13.09.12)
- В форме Добавить/Изменить Сервисы Клиента исправил формат вывода даты вывода из эксплуатации.

v5.38.28 (19.09.12)
- Добавил проверку: в СК проверяется название КЛИЕНТА, если такого названия в tab_klients нет, то просит выбрать из списка.
- Аварийки: при отмене выезд бригады, к ТТ добавляется запись с названием бригады и причиной отмены. А также ТТ помечается как не просмотренное (trubl.view_tt=1). 

v1.8.47 (24.09.12) - Сервер
- Cервер, если письмо отправить не удается не вставляет запись в ТТ об отправке писма с темой ..., а добавляет запись с кодом ошибки. Это выполнено для писем об открытии или закрытии ТТ.

v5.38.29 (09.10.12)
- з-ка СервисыСубпровайдеров: убрал ограничение, показывать записи только залогиневшегося пользователя.

v1.8.48 (10.10.12) - Сервер
- Ошибка: не закрывалиси или не отправлялись в очередь "подчиненные" ТТ при смене статуса на "уведомление" в "материнском" ТТ.

v1.8.49 (12.10.12) - Сервер
- Откатил к v1.8.47.

v5.38.30 (15.10.12)
- Небольшое улучшение в з-ку СервисыСубпровайдеров.

v5.38.32 (22.11.12)
- В База\Спутник при поиске галочки стоят на город, улица, станция, клиент (по-умолчанию).

v5.38.33 (26.11.12)
- Добавил "Особенности приема в эксплуатацию" в отображение для СК.
- Исправил ошибку: при анализе доступности сервера.

v5.40 (30.11.12)
- Добавлена сеть `Tooway`.
- В Клиент добавлена возможность Добавления,Редактирования и Просмотра Тех.Информации о клиентах на сети 'Tooway'.
- Поле tab_klients.admin_email изменено = varchar(500) (было = 100).

v5.40.1 (3.12.12)
- Добавил поле net_equip.active_date date def=`0000-00-00`, для хранения даты активации станции Tooway.
- Добавил запись `0.75m` в таблицу tab_antenna.

v5.40.2 (5.12.12)
- В  "Плановых" сделал функционал (двойно щелчек мыши на записи) аналогичный з-ке "активные".

v5.40.3 (6.12.12)
- з-ка "Активные" изменид компоненту DBGridEh на СRDBGrid (Ошибка в компоненты).

v5.40.4 (10.12.12)
- з-ка "Активные": изменеия в настройках ширины полей таблицы.
- з-ка "Плановые": исправил ошибку при отображении информации о СУ.

v5.40.5 (12.12.12)
- з-ка "Сервисы Клиентов": в таблице 1.	Перенес поле Клиент, 2.	Добавил поле Емкость.

v5.40.6 (24.12.12)
- Добавил "Особенности приема в эксплуатацию" в отображение для СC.

v5.40.7 (25.12.12)
- В з-ке Активные скрыты (по-умолчанию) все записи которые вносят автоматы. Соответственно показываются только записи внесенные людьми.
В интерфейс ввел две кнопки (зеленая и синяя) при нажатии на которые  будет меняться деталировка отображения.
Зеленая кнопка – показывать только записи внесенные людьми, а Синяя кнопка   - показывать все записи.
- Добавил поле: tab_klients.email_send_profile varchar(11).
- Добавил в таблицу Партнеры возможность добавления значений в поле tab_klients.email_send_profile (= {M,GO,OA,OB}).

v5.40.8 (27.12.12)
- Исправил ошибку: в з-ке Активные доступна всплывающая подсказка при щелчке на записи.

v5.40.9 (28.12.12)
- Добавил "ID в планере" в отображение для СC.

v5.40.10 (4.01.13)
- З-ка Активные, для СК информация о менеджере не отображалась. Исправил!

v5.40.11 (15.01.13)
- Исправил ошибку: не верно выдавал IP для telnet (show info в СС).

v2.0 (30.01.13) - server
- Изменил компоненту доступа к БД MySQL.
- Изменил дизайн формы.
- Формат вывод №ТТ изменен, напр., №ТТ=123456 --> 123 456.

v1.8.51 (1.02.13) - server
- Изменил компоненту доступа к БД MySQL.
- Изменил дизайн формы.
- Формат вывод №ТТ изменен, напр., №ТТ=123456 --> 123 456.

v5.40.12 (4.02.13)
- В БД "Klients" сделал изменеие: net_data.inexp = varchar(1000).

v5.40.13 (5.02.13)
- Исправил ошибку: при добавлении станции 'Tooway' время активации конвертировалось с ошибкой. Заменил поле ввода времени на компонент DateTimePicker (вносится  в формате времени).

v1.8.52 (11.02.13) - server
- Исправил ошибку: не добавлялась запись к ТТ об отпревке письма "об открытии ТТ".

v5.40.14 (26.02.13)
- Добавил поле net_operators.in_date date.
- Для Сервисов Субпровайдеров: 1) в форму редактирования добавил поле: "Дата постановки задачи", 2) В таблице появилось поле "Принят", 3) Добавил кн. "Экспорт в XLS", 4) после редактирования в таблице курсор не перескаивет на другую запись.
- В "ПЛАНОВЫХ" отображение СК аналогично как в "АВАРИЙКАХ".

v5.40.15 (28.02.13)
- Для уровня доступа 2 предоставил доступ ко всем закладкам СТАТИСТИКА.

v1.8.53 (01.03.13) - server
- Исправил ошибку: ADQuery7: Field 'num_of_trubl_tick' not found.

v5.40.16 (11.03.13)
- Для Сервисов Субпровайдеров: 1) после добавления - в таблице курсор не перескаивет на другую запись, 2) в информацию о записи добавил: стоимость, номер задачи, название клиента, corp\retail, дата включения, состояние, информация из примечания.

v5.40.16 (12.03.13)
- Исправил ошибку: при редактировании СК ошибки с полем "inexp" не появляется.

v5.41 (27.03.13)
- Добавил переключатель в меню "Edit / Проверка целостности сети". Он ключает проверку: развалится ли сеть на две независимые подсети при попытке создать ТТ на Сетевое Соединение.
- В з-ке Активные заменил копонент таблицы на таблицу из набора TMS.

v5.41.1 (28.03.13)
- Исправил ошибку: при сортеровке в форме Партнеров.

v5.41.2 (23.04.13)
- Исправил ошибку: при просмотре информации об СК не отображаласть информаци о поле "трасса для рассчитываемой схемы".
- В закладке Тех.Площадки изменил расположение элементов интерфейса.

v5.41.3 (24.04.13)
- В БД добавил поле expworkers.logged int(11) default=0;
- В это поле вноситься  tab_access.id того  кто залогинился на это рабочее место.
Сделал так, когда сотрудник логинится на конкретное рабочее место, мы в expworkers.logged вписываем  tab_access.id этого сотрудника.
Когда он отлогинивается  вносим в поле expworks.logged значение  0.
А так же отробатываются ситуации:
1.Сотрудник пытается залогиниться на рабочее место  на которое кто то залогинился ранее, expworks.logged >0 в  таком случае тому кто пытается залогиниться вывести информацию «К  рабочему  месту expworks.worker залогинен tab_access.nik, вы действительно хотите залогиниться вместо него ?»
Если выберет да, то затираем старое значение  expworks.logged новым.
2.Работал сотрудник за рабочим местом и тут из коллизии 1 кто то залогинился на его место,  один раз ему вывести информационное окно  с информацией что «К вашему рабочему месту expworks.worker вместо вас залогинился tab_access.nik»
Он жмет ОК, что ознакомился, и больше мы ему это окошко не показываем.
- При создании ТТ на ОК проверяется, если это главный офис office_kli.office=1 тогда к ранее определенному приоритету добавляется +2.

v5.41.4 (26.04.13)
-	В окне Оформление наряда на выезд группы добавил возможность передвижение по табуляции по всем полям. 
-	В том же окне нельзя вводить значение в поле с раскрывающимся списком (защита от "дурака"), если попал в поле табуляцией, или кликнул на поле, можно "стрелкой вниз" пролистывать список.

v5.42 (19.05.13)
- Закладка ОТЛОЖЕННЫЕ: отображение в таблице происходит без участия табл. index_tab. Поиск по полю `Клиент` отсутствует (надеюсь это временная проблема).

v5.42.1 (22.05.13)
- Добавил таблицу: tab_tariph_plan_ccc (id int(2) unsigned auto_increment; tariph varchar(50);).
- Добавил возможность добавлять значения в таблицы tab_antenna и tab_tariph_plan_ccc через пункт меню Tools/таблицы. На этой странице в выпадающем списке выбирается соответственно "Антенны" или "Тарифный план", заполняем поле и жмем кн. Ок. Изменения в этих таблицах будут доступны в соответствующих полях формы Добавления/Редектирования записей в закладке Спутник/Клиенты.
- Добавил поиск по полю "№ договора" в закладке Спутник/Клиенты.
- При создании "Тестового ТТ", это ТТ будет закрепляться за тем рабочим местом, которое выбрано в закладке Активные, а не за местом № = 6100006.

v5.42.2 (22.05.13)
- Исправил ошибку: при отображении СУ в з-ке Отложенные не отображался город.
- Исправил ошибку: при создании ТТ с признаком "по обращению клиента" выскакивала ошибка.

v5.42.3 (13.06.13)
- З-ка Отложенные: добавил возможность фильтрации по полям №ТТ и Клиент.
- З-Ка Сервисы Субпровайдеров: в таблице отображаются или не отображаются демонтированные, в зависимости от выбора в пункте меню Edit \ показать демонтированные.

v1.9 (17.06.13) - server
- В запросах к БД Klients исключена таблица index_tab.

v5.42.4 (17.06.13)
- Таблица index_tab исключена из запросов. Отображение данных (поле "Клиент") осуществляются без использования этой таблицы.
- В таб. net_operators добавлены поля: contract_main char(30) для поля "№ договора", nameclient char(200) для поля "название клиента".
- Поле  договор переименовал в  "№ доп.договора", такое же изменение сделал в форме добавления и редактирования записей.
-	Перед полем "№ доп.договора", добавил новое поле "№ Договора"  (см. выше), такое же поле добавил в форму добавления и редактирования записей.
-	Поле "Название клиента" - название клиента бератся из каталога партнеров tab_klients. 
-	Старое поле "название клиента" не убрал, переименовал в "название клиента (old)". Запретил в новых записях в старое поле что-то вносить.

v5.42.5 (20.06.13)
- Добавил в меню Report строку: Ежемесячный отчет по спутниковой сети. При его выборе будет открываться open office и строиться отчет.

v5.42.6 (1.07.13)
- В таб. tab_operators добавил поле
    nameclient_id int(5) default 0; (поле nameclient удалил!!!!).
- В БД Klients добавил таблицу
    tab_catal_comm_dep
      id int(2) auto_increment,
      namedepartment varchar(100);
- В таб. tab_operators добавил поле
    for_what int(2) default 0;
В это поле добавляются значения tab_katal_sk_type.id.

v5.42.7 (2.07.13)
- В меню "Report/Ежемесячный отчет по спутниковой сети" отформатировал форму вывода отчета в ячейки таблицы.

v5.42.8 (3.07.13)
- В таб. tab_operators поле nameclient_gridin не используется.

v5.42.9 (4.07.13)
- Изменения в форме Добавления/Редактирования з-ки Сервисы Субпровайдеров:
1) Поле «Признак» по умолчанию остается незаполненным;
2) добавил поле tab_operators.condition_d date (замена поля `condition`);
3) поля "Дата включения" и "Дата постан.задачи" вводятся с помошью календаря ( сделать это поле пустым не получится, дата не может быть пустой). 
- Добавил поле tab_operators.nameclient_gridin для отображения в таблицу, назвал "Название клиента (OLD)".

v5.42.10 (8.07.13)
- Выставил значения по умолчанию в форме «добавить запись» в ССУ:
1) Дата включения = "Пусто"; 
2) Дата постановки задачи = "текущая дата"
3) Признак = "Корпорейт" 
4) Тип услуги = "передача данных"
5) Статус = "Строительство".
- Добавил поле tab_operators.podrazd int(11) default 0.
- Добавил поле "Подразделение" в таблицу и в форму Добавмть\Изменить.

v5.42.11 (9.07.13)
- Исправил ошибку: в з-ке "Все за период" фильтрация по плю Клиент не работала.

v5.42.12 (16.07.13)
- При добавлении Новой записи в з-ке ССУ, эта запись будет автоматически видна в тавлице.

v5.42.13 (18.07.13)
- В з-ке ССуП добавил сортировку по полям: Оператор, Стоимость, Скорость.
- В з-ке ССуП добавил общую сортировку записей в таблице (напр., кн. Показать Все): сначала сортируется по полю Оператор, затем - Стоимость, затем - Скорость.

v5.42.14 (23.07.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) добавил "Расширенный поиск" (кн. "Р") по полям: Город А, Адрес А, Город Б, Адрес Б, Скорость, Опрератор, Стоимость, Тип услуги, Название клиента, Подразделение.
2) добавил поле "condition" между полями "Дата включения" и "Подразделение".
3) создал поле speed_d double def=0 и перенес данные из поля speed_m. Сортировка по полю "Скорост" работает корректно.

v5.42.15 (29.07.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) добавил поле net_operators.'date_end' date . В форме Редактирования это поле наз. "Дата отключения".
2) для полей "Оператор" и "Название клиента" выбор данных происходит по нажатию кнопки.

v5.42.16 (30.07.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) добавил возможность строить отчеты.В меню "Report" добавил «Услуги арендуемые у субпровайдера». Эта строка/отчет видна только пользователям с уровнем доступа 5. Отчет формируется в openoffice, шаблон прилогается.

v5.42.17 (31.07.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) в шаблоне отчета Report/«Услуги арендуемые у субпровайдера» весь шрифт черный.
2) исправил ошибку: сортировка всех записей происходит по полям tab_klients.client, net_operators.speed_d, net_operators.cost.

v5.42.18 (31.07.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) исправил ошибку при отображении "статуса" в форме редактирования записи.

v5.42.19 (1.08.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) исправил ошибку при отображении "привязки" дл "СК" в форме редактирования записи.

v5.42.20 (2.08.13)
- В "каталоге партнеров" в поле «Профиль email оповещения» может быть одно или несколько или все значения: M GO OA OB.
Которые обозначают:
M- информировать менеджера
GO- информировать главный офис
OA –информировать офис А
OB-информировать  офис Б
Иначу текст предупреждения:  «В поле «Профиль email   оповещения» можно ввести только: “M” “GO” “OA””OB” ”пробел”» приведите запись к такому формату или оставьте пустым».

v5.42.21 (5.08.13)
- Добавил поле net_operators.change_login int(4).
- При редактировании/добавлении записи в "Сервисах Субпровайдеров" в поле change_login вносится tab_access.id  того кто производит изменение.
- В форме добавления записи СС, по умолчанию заполнять поле "Дата пост.задачи"(in_date). Для формы редактирования записи – поле заполняется, если произошло изменение.  

v1.9.1 (6.08.13)
- Удалил "Контроль по рассылкам Проминвест банка (для Федоровича)".

v5.42.22 (6.08.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) переработан "Расширенный поиск".
- Изменен вид "Ежемесячный отчет по спутниковой сети" (см. п.меню Report). 

v5.42.23 (8.08.13)
- Модернизация: при закрытии материнского ТТ из него удаляется официальная версия, т.е. поле trubl.master_info становится пустым.
- В закладке Сервисы Субпровайдеров выполнено: добавил сортировку по полю "№".

v5.42.24 (12.08.13)
- При попытке удалить запись из каталога партнеров, проверяется не привязаны ли к партнеру: СК, ОК, Сервис субпровайдера (в двух полях и в поле оператор и в поле клиент). Если такие записи выявляются, то удалить партнера нельзя.

v5.42.25 (14.08.13)
- Добавил в форму "закрытие ТТ" отображение поля: trubl.description ("Описание"), ниже поля "Клиент".

v5.42.26 (15.08.13)
- В з-ке Партнеры, в полях ввода данных проводится "экранирование (/)" служебных (для MySQL) символов: ", {, }, /.

v5.42.27 (19.08.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) при редактировании записи данные в таблице обновляются, курсор не теряет своей позиции.
2) исправил ошибку при привязке ССУ к СК.

v5.42.28 (23.08.13)
- З-ка "Добавление ТТ", исправил ошибку при попытке просмотреть информацию по ссылке №ТТ, вероятной проблемы.
- В закладке Сервисы Субпровайдеров выполнено:
1. Добавил net_operators.capex decimal(10,2).  В закладке ссу поле назвал «Стоимость включения».
2. Добавил net_operators.tax_doc varchar(255). В закладке ссу поле назвал «Налоговая накладная».
3. Добавил net_operators.act_compl текст varchar(255). В закладке ссу поле назвать «Акт вып.работ».
 
v5.42.29 (30.08.13)
- В закладке Сервисы Субпровайдеров выполнено:
1. Добавил net_operators.acc_num varchar(255). В закладке ссу поле назвал «Номер счета».

v5.42.30 (3.09.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) добавил таблицу tab_catal_partner_type (id int(3), type_partn varchar(150));
2) запорнил поле type_partn значениями = (Клиент, СтОП, Внутр. СтОП)ж
3) Ввел поле tab_klients.type_partn int(3) def=0? которое будет хранить ссылку на tab_catal_partner_type.id;
4) Добавим поле  «Тип партнера» в форму добавления партнера (между полями Менеджер и  Профиль email оповещения). По умолчанию это поле равно = 1. Важно, в форме редактирования никаких значений по умолчанию нет. По уполчанию только в форме добавления партнера.            

v5.42.31 (5.09.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) добавил новое поле  net_operators.last_change  (timestamp);
2) в таблицу добавил поле «Исполнитель» = ФИО инженера (net_operators.change_login) + время изменения (net_operators.last_change).

v5.42.32 (9.09.13)
- При двойном щелчке на СК или на открытый ТТ на СК -  в общее информационное окно подтягивается  информацию о  субпровайдере, если к СК подвязана запись из ССУ. (если к СК подвязано несколько ССУ, то показывается информацию только по одному, по первому, более раннему ССУ).
Отображаются не все поля, а только вот такой информационный блок:
-Субпровайдер:
-№ канала:
-№ договора:
-№ доп.договора:
-№ задачи из планера
-Фио Админинистратора
-Контакты: <Телефон> <Email>
-Менеджер раб. с провайдером.
Связь между СК и ССУ  может быть в трех вариантах: 1) ССУ привязан к ОК А, 2) ССУ привязан к ОК Б, 3) ССУ привязан к СК.
Пинформационные блоки отображаются только, если есть  привязанные ССУ ( при чем ССУ должен быть в статусе «в эксплуатации»).

v5.42.33 (10.09.13)
- исправил ошибку: в ОК невозможно создать новую запись. Исправлена логика при проверке вводимых данных.

v5.42.34 (12.09.13)
- Исправил ошибку: в з-ке Плановые работы не верно создавались ТТ (не для созданной записи). 

v5.42.35 (12.09.13)
- В закладке Сервисы Субпровайдеров выполнено:
Выбирается запись, нажимается кнопка редактировать, ничего не меняется, нажимается кнопка ОК, и система не регистрирует что произведено изменение.
Система регистрирует только если произошли изменения в каком либо поле.

v5.42.36 (13.09.13)
- Подправил табуляцию в форме отложенные.
- Добавил информацию в окошко открываемое  при двойном тапе на  ОК, СК или на ТТ открытый на эти объекты: В блок  «Контакты Главного Офиса» добавить информацию из поля  «Примечание».

v5.42.37 (17.09.13)
- З-ка АВАРИЙКИ: поставил проверку "выбрана запись", для изменения прироитета выезда.
- XP-профиль добавил.

v5.42.38 (18.09.13)
- меню Report: добавил пункт "Услуги субпровайдера, сводный отчет" (доступен только логинам с уровнем доступа 5). При выборе этого пункта меню - появляется форма в которой два календаря «Начало и Окончание»  отчетного периода, 
По умолчанию:
Окончание = сегодняшней дате, берется с системного времени компьютера
Начало = сегодняшняя дата -1 месяц
Кнопка ОК – при нажатии которой строится отчет, в open office.

v5.42.39 (19.09.13)
- XP-профиль убрал.

v5.42.40 (22.09.13)
- меню Report, пункт "Услуги субпровайдера, сводный отчет": доработка.

v1.9.2 (23.09.13) - server
- Email оповещение о закрытии ТТ: проверка, если ТТ закрыт больше 72 часов назад – то извещение об этом не слат, осуществляется по полю trubl.`date_of_close` (раньше - `date_of_end`+`time_of_end`).

v5.42.41 (1.10.13)
- При правом щелчке на  активный ТТ в меню вниз добавил пункт «Перейти к объекту». При нажатии на который база автоматом переходит на закладку этого объекта и покзывает только эту запись.
Закладка "Добавить ТТ":
- Сделал, что бы в поле Тип ТТ можно было  перейти по Tab, а так же добавил, что бы значения в этом поле можно было выбирать стрелочками вверх/вниз.
- Добавил поля "Контакт" (Имя, Телефон), из которых Формируется поле "Описание": Имя+Телефон+";"+Описание.

v5.42.42 (3.10.13)
- меню Report: пункт "Услуги субпровайдера, сводный отчет" исправил ошибку.

v5.42.43 (4.10.13)
- меню Report, пункт "Услуги субпровайдера, сводный отчет": доработка.

v5.42.44 (7.10.13)
- меню Report, пункт "Услуги субпровайдера, сводный отчет": доработка.

v5.42.45 (9.10.13)
- В закладке Сервисы Субпровайдеров выполнено:
В форме Edit/Insert записи при нажатии кн. "Ок" эта кнопка становится DISABLE. (это сделано, чтобы при подвисании формы, нельзя было щелкать по кнопке и не наплодить множество одинаковых записей). Кнопка становится ENABLE при открытии нового окна Edit/Insert.

v5.42.46 (10.10.13)
- В закладке Сервисы Субпровайдеров выполнено:
В форме Edit/Insert исправлена ошибка: не экранировались кавычки (") в поле "Оператор".

v5.42.47 (14.10.13)
- меню Report, пункт "Услуги субпровайдера, сводный отчет": доработка.     

v5.42.48 (16.10.13)
- меню Report, пункт "Услуги субпровайдера, сводный отчет": доработка.  

v5.42.49 (18.10.13)
- меню Report, пункт "Услуги субпровайдера, сводный отчет": доработка. 

v5.42.50 (21.10.13)
- В закладке Сервисы Субпровайдеров выполнено:
Небольшие изменения в шаблоне, поменял некоторые подписи в полях.
- В закладке "создание ТТ" уменьшил размер поля «Телефон/email».
- В таблицу category_type_tt я ввел поле view_in (INT (3)).
- В поле "ТИП ТТ", з-ка "Добавить запись", сортировка полей происходит по возрастанию поля view_in.
- Закладка "Поиск ТТ" добавил кнопки:
1) "вывести из отложенных" (область видимости такая же как и у кнопки  «вывести из подчинения);
2) «Добавить запись» в ТТ (область видимости такая же как у кнопки  «Редактировать»).

v5.43 (22.10.13)
- В MySQL БД Klients добавлена функция GetNameOfClient (аналог таблицы index_tab).
- добавил поле: net_operators.d_stServ_clientu date default='0000-00-00'.
- В закладке Сервисы Субпровайдеров выполнено:
1) добавил поле "Начало подачи сервиса клиенту", разместил его между полями «Дата включения» и «Подразделение»; 
2) В форме редактирования и добавления записей, разместил новое поле между полями "№ договора" и "№ доп.договора" (выбор значения из выпадающего, календарь по умолчанию имеет значение – сегодняшнее число);
3) По умолчанию новое поле пустое;
4) добавил это поле в отчет, между полями «Состояние» и "Дата включения";
5) добавил сортировку по полю "Подключено к...";
6) поставил проверку, если дата включения не пустая,  то состояние не может равняться "строительство".

v5.43.1 (23.10.13)
- Добавил в окне Аварийки, между полями «Клиент» и «Сектор», новое поле «Тип наряда» (trubl_crew. type который берет значение из category_type_tt. type_tt, связь по id).
- При закрытии наряда с данным типом – переработки не считаются.

v5.43.2 (24.10.13)
- Исправил ошибку: в з-ке Офисы Клиентов не отображались привязки СК.

v5.43.3 (31.10.13)
- В закладке Сервисы Субпровайдеров выполнено:
1) Поле "дата отключения" получиоло кнопку "DELETE", которая чищает значение этого поля.
2) Добавил сортировку по полю «название клиента».
- В отчет "Услуги арендуемые у субпровайдера..." добавил поле «Дата по первому событию».
- При создании нового ТТ поле №заявки в ServDesk уже очищается. 

v5.43.4 (1.11.13)
- В отчете "Услуги арендуемые у субпровайдера..." поле «Дата по первому событию» выводится в формате "дд.мм.гггг".
- Исправил ошибку в форме редактирования ОК: в поле "Клиент" не воспринимались кавычки (").

v5.43.5 (4.11.13)
- При добавлении новойго клиетта в ССС, при открытии формы, фокус табуляции возвращается на первое поле.
- При создании нового наряда а з-ке Аварийки, в поле trubl_crew.order_id подставляется ноль (=0).

v5.43.6 (5.11.13)
Ревизия на предмет, как заполняется поле приоритета (trubl. priority) при создании ТТ и модернизировал его до таких параметров:

Интерфейс наземного сектора:	Откуда брать приоритет при создании ТТ
По умолчанию				0
Ск и ОК (tab_on=6,7)		брать из  tab_klients.class
СС (tab_on=5)				2
СУ (tab_on=4)				3
ТП (tab_on=3)				3
	
Во все ТТ создаваемые из интерфейса спутникового сектора	брать из  tab_klients.class

При создании наряда на выезд значение  поля trubl_crew.order_id будем подтягивать из trubl. priority. При создании наряда на выезд по кнопке "Новый наряд" trubl_crew.order_id подставляется ноль 0.

v1.9.3 (8.11.13) - server
- Добавил таблицу email_distribution
----------------------------------
CREATE TABLE IF NOT EXISTS `email_distribution` (
  `id_distr` int(4) NOT NULL AUTO_INCREMENT,
  `name_distr` varchar(100) NOT NULL DEFAULT '' COMMENT 'Название отчета',
  `period_d` varchar(150) NOT NULL DEFAULT '' COMMENT 'Периодичность отсылки отчета',
  `recipients` varchar(150) NOT NULL DEFAULT '' COMMENT 'tab_access.id кому отсылать отчет',
  `description` varchar(250) NOT NULL DEFAULT '' COMMENT 'Примечания',
  PRIMARY KEY (`id_distr`)
) ENGINE=MyISAM  DEFAULT CHARSET=cp1251 COMMENT='Хранятся все задачи на отсылку отчетов' AUTO_INCREMENT=2 ;
где поля:
`period_d`='dayOfMonth=*;dayOfWeek=1;hours=06;start=-1;stop=-7;' :
dayOfMonth=* (день месяца когда формировать отчет, если * то подойдет любой день)
dayOfWeek=1  (день недели  когда формировать отчет, если * то подойдет любой день)
hours=06  (часы когда формировать отчет, по 24 часовой шкале, минуты пусть по умолчанию будут 00) 
start=-7 (дата начало периода  за который строить  отчет ,  now()-7 дней)
stop=-1 (дата окончание периода  за который  строить отчет ,  now()-1 день)
- при работах с датами временем, сколько сейчас времени по прежнему узнавать у mysql сервера командой now().
- Добавил "Рассылка отчета за период для ССу". 

v5.43.7 (21.11.13)
- Исправил ошибку: при подсчете "переработанных" часов выездной бригадой.

v5.43.8 (2.12.13)
- З-ка "Поиск ТТ": добавил экранирование символов в поля редактирования ТТ/записей.

v5.43.9 (5.12.13)
- Вывод информации о ТТ: 
1) в Закладках Активные и Отложенные - аналогиченый;
2) в з-ке Сервис добавил вывод информации о номере ТТ, причине открытия ТТ  и по какому обращению.

v5.43.10 (6.12.13)
- Модернизировал процесс привязки ТТ к объекту так, что бы при привязке происходило присвоение приоритета по алгоритму:
Интерфейс наземного сектора:	Откуда брать приоритет при создании ТТ
По умолчанию				0
Ск и ОК (tab_on=6,7)		брать из  tab_klients.class
СС (tab_on=5)				2
СУ (tab_on=4)				3
ТП (tab_on=3)				3
	
Во все ТТ создаваемые из интерфейса спутникового сектора	брать из  tab_klients.class.

v5.43.11 (9.12.13)
- Сейчас не видно кто подвязал ТТ и к какому объекту. Сделал, это задокументировал:.
При подвязке ТТ в ТТ будет добавляться запись:
Внес: автомат
Контактировал с:  значение из tab_access. login того кто залогинен в приложение (ну то есть ФИО того кто выполняет привязку) 
Выполнено: привязан к объекту ID:из таблицы к которой привязывается,  <Здесь вписать  итоговое название сервиса, которое строит функция тобой написанная, то есть здесь то же что инженер  видит в закладке активные тт>.
- Изменил SQL-запрос в закладке Спутник/Клиенты.

v5.43.12 (10.12.13)
- Закладка «Сервис Субпровайдеров», расширенный поиск (кнопка «Р»): добавил поиск по полю  «состояние» (net_operators.status_d).

v5.43.13 (16.12.13)
- Исправил ошибку: сломалось отображение скорости ССУ в информационном окне (в закладке ССУ:  при двойком щелчке не отображается скорость);
- Добавил защиту от дубляжа, при добавлении новой записи в закладку ССУ. Перед добавлением будем формировать запрос  в net_operators и  будем искать совпадение по полям: 
1. город Б; 
2. Адрес Б; 
3. название клиента; 
4. номер задачи.
При чем не важно какого статуса (и в эксплуатации и демонтированные, все статусы)
Если совпадения по всем четырем полям найдется – выводить информационное окно в котором будет написано,  найдено  2 похожих записи, вы действительно хотите сохранить новую запись.
Да/Нет. И в этом же окошке показать эти записи в которых будут отображены поля: id + поля по которым производится поиск + status.d.

v5.43.14 (19.12.13)
- Навернул горизонтальную координацию на процесс привязки тикета к объекту.
Па аналогии с создаваемым тикетом, напомню , при создании ТТ на СК, мы анализируем:
-  не открыт ли ТТ на  ОК к которому привязан СК;
- не открыт ли ТТ на СУ  к котрому привязан ОК;
- не открыт ли ТТ на ТП на которой размещен СУ;
Если  какое либо из этих событий true тогда предлагаем сотруднику создать ТТ и сразу же подчинить а так же выводим ему на экран вероятность в процента, насколько создаваемый ТТ может записеть от ТТ на главную причину аварии.
- з-ка ССУ: добавил в отображение информации о ТТ поле "примечание".
                                         
v5.43.15 (25.12.13) 
Сейчас в закладке  Trouble-Ticket  -> Поиск ТТ 
Если я редактирую поле описание:  
Система заново анализирует email адресатов и  вносит их в поле trubl. email_send, а также если раньше  в поле trubl. email_send ничего не было – тогда система в носит в поле trubl. email_doing слово open. 
Т.к. система рассылки email немного эволюционировала – имеем два отрицательных момента:
1.Когда ТТ создан по звонку клиента, а через  1 час вдруг нужно в email информирование добавить начальника клиента или нашего менеджера – я его добавляю через редактирование но т.к. система автоматически вносит в поле trubl. email_doing слово “open” то email о  открытии ТТ не отошлется, и все  адресаты которых я добавил получат инфо только при закрытии ТТ.
Давай это изменим,  что бы при любых манипуляциях  через Trouble-Ticket  -> Поиск ТТ  -> кнопка редактировать – поле trubl. email_doing не изменялось, пусть будет как есть.

2.Система работы с email оповещением немного эволюционировала, теперь у нас в каталоге клиентов есть  глобальный профиль оповещения, а так же настроено оповещение Харьковской, Хмельницкой  Днепропетровской и Одесской тех.поддержек если открывается ТТ  и  в схеме канала есть их сеть.
Получается, так: пришло письмо клиента,    в поле описание вписали email1 клиента, при создании ТТ email добавился в ТТ, дальше робот добавляет в ТТ email региональной тех.поддержки и если  настроен глобальный профиль оповещения то и email главного  офиса клиента  и менеджера со стороны Датагруп.
Что в таком случае произойдет если я через Trouble-Ticket  -> Поиск ТТ  -> кнопка редактировать попытаюсь в поле «Описание» добавить  email2 клиента ? Правильно система удалит вот эти все email из тикета и оставит только email1 и email2 клиента ?
Можно ли модернизировать  Trouble-Ticket  -> Поиск ТТ  -> кнопка редактировать что бы при изменении email адресатов в поле описание, система не торгала в поле trubl. email_send те  email которые она не добавляла ?
Например так: когда нажата кнопка  редактировать  а затем сохранить редактирование (кнопка ОК) . 
Распарсить все email в trubl. email_send  в массив 1, затем поудалять из массива 1 все email которые есть в поле trubl.description. затем добавить  в Массив 1 все новые не повторяющиеся в нем email из  в формы редактирования. Ну и в конце из массива 1 собрать строку и внести ее в trubl. email_send.         

v5.43.16 (16.01.13)
- В закладке Сервисы Субпровайдеров выполнено:
Добавил проверку обязательных полей: Город А, Улица А, Город Б, Улица Б, Оператор, Скорость, Стоимость, Статус, ID в планере, Дата постановки задачи, Название клиента, Подразделение, Признак, Стоимость включения, Тип услуги.                    
v5.43.17 (21.01.13)
В закладке  База->Сервисы субпровайдеров:
- добавил кнопку  - «удалить запись». Эта кнопка доступна только 5-тому уровню доступа.
- к полям «Дата включения», «Дата подачи услуги», «Дата постан. задачи» добавитл кнопки Clear (очистить поле).
- поле "Стоимость аренды и включения" может равняться «0», так же добавил возможность введения числа с двумя знаками после запятой (денежный формат).

v5.43.18 (30.01.13)
- специально для Сервисы субпровайдеров (чтоб особо стояла встороне)

v5.43.19 (3.02.13)
В закладке  База->Сервисы субпровайдеров:
- в поле "стоимость" можно вносить цифру >=0.

v5.43.20 (12.02.13)
- Создал таблички 
tab_catal_dogovor- каталог договоров (каждый из которых подвязывается к каталогу партнеров tab_klients)
tab_catal_dogovor_dop- каталог дополнительных договоров
z_connecttable таблица с помощью которой катало договоров привязывается к каталогу партнеров)
- В интерфейсе закладки Сервис Субпровайдера создал два новых поля
1.создал поле «Договор» :
- разместим его перед существующим полем  
- старое поле переименуем  в «old № договора»
- добавим поле net_operators.contract_main_d  int(6) ( в котором будет храниться ссылка на id из таблицы каталога договоров tab_catal_dogovor.id )
- в это поле будем выводить значение из tab_catal_dogovor.dogovor
2.создал поле Доп.договор (значение будем брать из нового поля)
- разместим его после нового поля из п1 «Договор» 
- старое поле    переименуем  в «old № доп.договора»
- добавим поле net_operators. dop_dogovor_d  int(6) ( в котором будет храниться ссылка на id из таблицы каталога доп.договоров tab_catal_dogovor_dop.id )
- в это поле будем выводить значение из tab_catal_dogovor_dop.dop_dogovor
- В форму редактирования и создания новых записей в закладке Сервисы субпровайдера внес изменения: 
1.Поля № Договора и № доп.Договора, сделаем  с выпадающим списком,  список будет браться из каталогов (по аналогии как это мделанно в поле Город в этой же форме)
2. Сделал зависимость: Что бы выбрав оператора, в выпадающем списке Договор и доп Договор были только  документы привязанные к этому оператору.
А если в дальнейшем пользователь выберет конкретный договор, то выпадающий список доп.договоров содержал только значения из каталог доп договоров, которые привязаны к этому договору.
3. Если поле оператор не выбрано то в выпадающих списка Договор и Доп.договор будут все значения из их каталогов.  

v5.43.21 (14.02.13)
“Trouble_Ticket”->”Аварийки” (Отчет - Сформировать):
- Добавил в тему письма номера ТТ, в отчет тоже  номер ТТ, номер наряда, уберал секунды и добавил дату.

v5.43.22 (24.02.13)
В закладке  База->Сервисы субпровайдеров:
- Для полей «Договор» и "Доп.договор" добавил возможжность добавлять название новых договоров (кн. Плюс) непосредственно из формы редактирования.

v5.43.23 (28.02.13)
- Выполнена работа над ошибками.

v5.43.24 (3.03.13)
- Выполнена работа над ошибками.

v5.43.25 (7.03.13)
- Выполнена работа над ошибками.

v5.43.26 (12.03.13)
- ДОБАВИЛ в меню Справочники возможность вызвать справочник Договора и Доп договор для ССу, где появилась возможно их поиска, добавления, изменеия и для 5того ровня доступа – удаление.

v5.43.27 (14.03.13)
При закрытии наряда на выезд, добавлять в  ТТ, запись  с отчетом о выезде, и помечать ТТ как непрочитанный.
При отмене наряда на выезд, тоже добавлять запись в ТТ, что наряд «отменен»
Реализовано:
Дату и время не брать ни откуда, она сам проставится триггером, ну так уже давно.
Кто внес запись брать из внутренней информации при нажатии кнопки ок(созранить отчет о выезде), ведь известно кто залогинился, при запуске программы, вот из этой переменной и брать ФИО того кто  внес запись.
Контактировал с : вносить название бригады за которой закреплен этот наряд на выезд.
В поле «Выполнено»:  вносить все из тела отчета, сколько влезет столько влезет, там у нас по моему ограничение в 500 символов.

v5.43.28 (17.03.13)
закладка Статистика:
- Сейчас некоторые письма клиентов, автоматом вписываются в ТТ,  эти записи добавляются на график, за день создается много записей. Эти записи замусоривают график.
Даваил в запрос по которой строится этот график  условия, что бы выборка не включала в себя записи у которых в имени того кто внес запись встречается  символ “@”.

v5.43.29 (23.03.13)
- з-ка "Поиск ТТ", пытаюсь отредактировать поле «Описание» добавив туда email – после нажатия кнопки «ок» (сохранить)  программа зависает напрочь.ОШИБКА ИСПРАВЛЕНА.
- поле trubl.description varchar(1000)- увеличил.

v5.43.30 (28.03.13)
- Выполнена работа над ошибками.

v5.43.31 (28.03.13)
- исправил ошибку: з-ка Аварийки, передача наряда между выездными группами.
- Исправил ошибку: з-ка ССу, при редактировании записи, если в записи УЖЕ имеется информация о операторе то при выпадении списка там находятся только договора которые относятся к этому оператору.

v5.43.32 (1.04.13)
- меню "Услуги субпровайдера, сводный отчет" - значение полей таблица "Снижение OPEX" вычисляется программно.
- Исправил ошибку: з-ка ССу, поле редактирования. 

v1.9.4 (1.04.14) - server
- Cводный отчет для субпровайдеров (рассылка) - значение полей таблица "Снижение OPEX" вычисляется программно. 

v5.43.33 (7.04.13)
- Исправил ошибу: не верно вычислялось значение поля таблица "Снижение OPEX" (см. выше)

v5.43.34 (9.04.13)
- закладка Сервисы Субпровайдеров: реализовал подсчет суммы по полю «Стоимость», при чем сумма считается для записей входящих в результат поиска.

v5.43.35 (11.04.13)
- каталоги договоров и доп договоров:
1) добавил кн. "Посмотреть все";
2) исправил ошибки при поиске;
3) при добавлении договора (доп.договора) он отобразится первой строкой в таблице.

v5.43.36 (18.04.13)
В закладке Trouble Ticket -> Аварийки: подправил отображение информации об СК при двойном тапе на наряде.

v5.43.37 (22.04.13)
1) Справочники\Договоры ССу:
- При редактировании названия СтОп меняется (исправил);
- дата, когда ее нет, то тут отображалось пустое пространство;
- прокрутка колесиком мышки работает (исправил);
- Курсор после редактирования строки оставаться на строке, которую редактировали, а не выкидывать в начало каталога (исправил).
2) В закладке ССУ, в форме ввода и редактирования, удалил ячейки для заполнения: «old № договора”, «old № доп. договора».

v5.43.38 (12.05.13)
- При добавлении ТТ в Спутниковом секторе поле "№ заявки в ServDesk" остается пустым, для всех остальных = 0.

v5.43.39 (13.05.13)
- При добавлении ТТ подкорректировал шаблон для "регулярных выражений" при распознавании e-mail - адреса. Теперь для распознавания подходят адреса, например eee/ggg-yyy.ppp@ggggggg.ddd.

v5.43.40 (14.05.13)
Отчет строится так: report->Услуги арендуемые у субпровайдера...
В поле Договор и Доп.Договор ты сейчас вписываешь значения из  
net_operators.contract_main, net_operators.contract.
ИЗМЕНИЛ: этот отчет в поля Договор и Доп.Договор значения брались из ссылок в полях:
net_operators.contract_main_d, net_operators.dop_dogovor_d.

v1.9.5 (19.05.14) - server
- Анализ ТТ и записей для отправки писем - для отсылки скрытых копий письма используется поле tab_setup_serv.resip2.

v5.43.41 (27.05.13)
- Убрал поле "OLD № договора" из отображения "База->Сервисы Субпровайдеров". Поле "OLD № доп.договора" остатлся, там еще не все перенесли.
- "База->Сервисы субпровайдеров":
В полях Договор и Доп Договор, к информации о документе добавил отобрежение  даты заключения документа, без добавления поля, просто добавил текс в существующие поля при отображении, дату беру из каталога Договора и каталога Доп договора.
- Отсортировал Поле № Доп договор и добавил дату документа,  в форме добавления и редактирования "База->Сервисы Субпровайдеров". Сортирует сначала по номеру договору, а потом по дате заключения.

v5.43.42 (28.05.13)
- При добавлении ТТ, мыло с обратным слешом("\") в имени распознается и сохраняется.

v5.43.43 (5.06.13)
Исправил ошибку:
- При редактировании записей Сервисы субпровайдера вылетает ошибка "List index out of bounds (-1)". Проблема была в поле "Доп.Договоры", combobox.addobject...

v5.44 (16.07.14)
- Процесс в приложении при поступлении звонка и создании ТТ:
Поступает входящий звонок, оператор заводит ТТ. Приложение получает телефонный номер, с которым соединён сотрудник путём выбора последней записи из cc_calls_log (user_id – id оператора, number – номер телефона, с которым соединён оператор, данные туда попадают сразу после установления телефонного соединения).

Имеем три варианта развития событий:
1.1 Номер нам неизвестен (отсутствует в cc_phone_numbers). В таком случае поле номера в ТТ заполняется автоматически, оператору предлагается ввести имя контакта и после создания ТТ создаётся:
•	Запись в cc_pnone_numbers с данным номером
•	Запись в cc_persons с именем контакта, привязанная по klient_id к таблице tab_klients
•	Запись в cc_persons_numbers, связывающая между собой предыдущие две записи
1.2 Номер известен, к нему привязан один клиент. Автоматически подставляется номер и имя контакта, имя можно менять, т. к. с одного номера могут звонить разные люди. Если оператор изменил имя, создаётся:
•	Запись в cc_persons с именем контакта, привязанная по klient_id к таблице tab_klients
•	Запись в cc_persons_numbers, связывающая между собой новосозданную запись и ранее найденную в cc_phone_numbers
1.3 Номер известен, к нему привязано несколько контактов. Оператору подставляется номер и предоставляется возможность выбрать из списка имён либо ввести новое. Если введено новое, происходят добавления записей как в пункте 1.2

Формат номеров телефонов в cc_phone_numbers для простого разбора должен быть стандартизированным, наиболее логичным видится вариант международного формата, например, 380445380033.

v5.44.01 (6.08.14)
1. Изменение отображения при двойном щелчке на ТТ привязанные к База -> Плановые работы
2. ССУ: после редактирования сумма АП - не исчезает
3. спутниковый интерфейс, добавил возможность поиска по серийным номерам. (в интерфейсе: добавил ниже строки поиска еще одну галочку (которая по умолчанию не стоит) "s/n" если она поставлена - искать и по серийному номеру тоже).
4. Создать непривязанный ТТ (trubl.tab_on=0 и trubl.inv_num_kli=0) в активных ТТ щелкнуть на нем правой кнопкой мыши, выбрать "Подвязать к объекту" -> Серви Клиента (СК): В появившемся интерфейсе добавь поле Статус (полностью аналогичное полю Статус из закладки СК) а также цветовую раскраску строчек аналогичную закладке СК (демонтированные и не в эксплуатации выделяются красным)
5. Запустили три серверных приложения servKlients, Второе приложение со временем отключилось. Остались в работе сервера номер 1 и номер 3е. Но Клиент упорно показывает что активны сервера номер 1 и номер 2. Подправил: клиент корректно показывает слева направо первый сервер, второй и третий.
6. a). поля phone в сс-таблицах имеют тип int(12), но больше 9 цифр он не принимает! Исправил на bigint(12).
   б). формат номера телефона: 380442223344 (где-то так). Поле ввода сделал в виде маски [  (_____)___-____  ]. 

v5.44.02 (7.08.14)
1. В окне "Информация" отображается номер ТТ.
2. Добавил новое поле:
 - net_operators.sreda_peredachi  int(3)
 - его же под называнием "Среда передачи" добавил в закладку "Сервисы субпровайдеров" перед полем "Тип услуги"
 - это же поле "Среда передачи" добавил в форму добавления/редактирования, в виде выпадающего списка. Разместил поле в строку, там где "Дата отключения" и "Налоговая накладная"
 - так же добавил новое поле в интерфейс расширенного поиска (интерфейс вызывается по кнопке "Р")
 - значения в выпадающий список брать из таблицы tab_catal_sreda_peredachi, таблицу прилагаю.   
 - в форме добавления записи, новое  поле по умолчанию равно "1".

v5.44.03 (7.08.14)
- Создать ТТ : Сейчас поля "Контактное имя" и "Телефон/Email" обязательны к заполнению всегда. Сделал так, что бы они были обязательны к заполнению только если тип ТТ "по обращению клиента", во всех остальных типах ТТ - не обязательны к заполнению.

v1.9.6 (8.08.14) - server
- Убрал скрытую рассылку для "галочек": Анализ задач и Анализ доступности выездных бригад для отправки писем.

v5.44.04 (8.08.14)
- "База"-> "Плановые работы": в окно "информация" добавил название поля "Кто подал заявку".
-  Добавил поле в отчет строящийся из меню Report -> Услуги арендованные у субпровайдера, под названием "Среда передачи"  перед полем "Тип услуги".

v5.44.05 (13.08.14)
- ССУ: поле Договор, в него добавил дату, формат такой: "НомерДоговора от дд.мм.гггг".

v5.44.06 (14.08.14)
Кроме сохранения номера в таблицах Зоткина, так же должен сохраняться номер в самом ТТ,  trubl.klient_contact_phone BIGINT(12), формат сохранения такой же как в cc_phone_numbers.number.
Добавил этот функционал.
Нужно это для маршрутизации звонков, если клиент позвонит снова, по связке ТТ-номер можно будет смаршрутизировать звонок сразу на инженера или на оператора который "прикрывает" этого инженера :)

v5.44.07 (21.08.14)
- Исправил ошибку: В закладке сервис субпровайдера, при нажатии на кнопку "редактировать  запись" для записи  с ID = 5700 выдает ошибку List index out of bounds(-1).

v5.45 (29.08.14)
- В з-ку БАЗА добавил з-ку Аутсорсинг.

v1.9.7 (11.09.14) - server
- Автоматический старт сервера при запуске приложения.
- Отображать пользователю аларм, если остановился процесс автоматическрй обработки email (Mail->TT).

v5.45.01 (11.09.14)
- Исправил: При создании ТТ  "по обращению клиента" из закладки Аутсорсинг, ТТ создается нормально но в всплывающем окне извещающем о номере ТТ появляется информация о ошибке (попробуй повторить ошибку).
- Исправил: Поле "Адрес расположения" для устройств установленных в офисе клиента собирается так: "Название клиента улица". 
Модернизировал отображение, стало: "Название клиента Город Улица".
- Добавил: Mail->TT.
- Выполнил: сервер автоматически запустится через 2 минуты после запуска программы. Если нажата кн. Start, то автоматичность пропадает.

v5.45.02 (16.09.14)
Цветовая гамма фона записей, которой должны выделять все записи в закладке "Сервисы субпровайдера:
Оранжевый: -если  СС привязан к СК или ОК у которого статус любой кроме в "эксплуатации" (тоесть net_data.status_d <> 2 или office_kli.status_d<>2)
Желтый: - если Запись СС иммет статус "демонтировано" и "временно отключено"
Красный: - если запись СС не привязана к ОК или СК  или привязанна к несуществующему ОК или СК
Прозрачный: - все остальное.
Приоритетность отображения (если запись подпадает под несколько цветов), чем меньше число тем выше приоритет
1- Красный
2- Желтый
3- Оранжевый
4 -Прозрачный

v5.45.03 (29.09.14)
- з-ка Добавить запись: добавил экраниерование (символы = ", {, }) полей ввода информации.

v5.45.04 (30.09.14)
- Орфографическая ошибка, пишет "ССС->ТТ", исправил на CIC->TT!
- Не ищет в СК по названию, городу, улице расположения офиса А и офиса Б - ИСПРАВИЛ.

v5.45.05 (21.10.14)
- Добавил в расширенный поиск (закладка База->Сервисы Субпровайдеров) поле: "Номер Договора", расположил его в интерфейсе расширенного поиска между полями "Оператор" и "Стоимость". (Issue 31)
- Добавил новое поле в закладку Сервисы субпровайдера: 
1.Добавил таблицу tab_catal_our_company (прикладываю файлик по созданию)
2.Добавил новое поле net_operators.our_company (int(4)) в котором храним ссылку на tab_catal_our_company.id_our
3.Добавил поле  «Дог.оформлен.на:»  в закладку "Сервисы субпровайдера" между "Состояние" и "Подвязан к"
4.Добавил поле с выпадающим списком «Дог.оформлен.на:» в форму создания и редактирования записей в ССУ, на место поля "Дата подачи услуги клиенту"
5.Значение по умолчанию у поля «Дог.оформлен.на:» = 1 (т.е. ПрАТ «Датагруп» )
6.Поле "Дата подачи услуги клиенту" перенести на место поля "Дата постановки задачи"
7.Поле "Дата постановки задачи" постараться всунуть между "Дата включения" и "№ канала".(Issue 32)
- В закладке База ->Сервисы Субпровайдеров:
1.В Самой закладке заменил название поля: «Среда передачи» на «Аренд. услуги»
2.В форме редактирования/создания  записей переименовал поле «Среда передачи» на «Аренд. услуги»
3.В отчете который строится по "Report"->"Услуги арендуемые у субпровайдера" тоже заменил название поля «Среда передачи» на «Аренд. услуги».(Issue 33)

v5.45.06 (22.10.14)
- При добавлении новой записи в каталог Доп.договоров форма Уже заполненная (а должна быть пустая) - Исправил! (Issue 34)
- Добавил зависимость поля "Номер Договора" от  поля "Сторонний оператор" в форме добавления и редактирования дополнительного договора из  "Справочники" ->  "Доп.договоры ССУ...". (Issue 35)

v5.45.07 (28.10.14)
- Доп договор привязывается не к тому договору который выбран в форме при добавлении доп.договора из формы "Справочники Доп.договоры ССу.."
Похоже возникает толь
Как повторить:
1.Вставить все записи приведенные ниже в твою БД (проверь может быть они уже там есть, что бы не было дубляжей)
2.Попробовать добавить доп.договор Н-5227-ПД и подвязать его к оператору СтОп Восток ТОВ (Николаевская обл.) 
Ожидаемый результат: Н-5227-ПД подвяжется к  СтОп Восток ТОВ (Николаевская обл.)

Получаемый результат: Н-5227-ПД подвяжется к СтОп Техніка Телерадіокомпанія ПП (ТРК Техника)

Есть подозрение что это происходит потому что добавляемый доп.договор имеет то же название что и уже имеющийся доп договор у СтОп Техніка Телерадіокомпанія ПП (ТРК Техника).(Issue 36)
Одинаковые названия договоров не будут влиять на привязку к правильному оператору. 

v5.45.08 (28.10.14)
- Добавил в файл setup.ini поле HostBack (backup адрес MySQL-сервера).
- Добавил проверку на "живучесть" IP-адресов серверов из полей Host и HostBack. Если оба сервера "мертвы", то программа выдаст предупреждение и не запустится.

v1.9.8 (28.10.14) - Server
- Добавил в файл setup.ini поле HostBack (backup адрес MySQL-сервера).
- Добавил проверку на "живучесть" IP-адресов серверов из полей Host и HostBack. Если оба сервера "мертвы", то программа выдаст предупреждение и не запустится.

v5.45.09 (31.10.14)
- Исправил: В последней версии ты как то изменял процедуру экранизации смецсимволов перед  внесением в mysql базу ?
И при создании ТТ и при добавлении записей и при редактировании записей вместо / ставит \/.

v5.45.10 (11.11.14)
- Исправил ошибку: При редактировании записи неправильно подтягивается значение в поле "Дата подачи услуги клиенту" закладка Сервисы субпровайдера. (Issue 37)

v5.45.11 (17.11.14)
- Исправил ошибку: не подтягиваются данные при попытке добавить доп.договор из формы редактирования записи в Сервисе субпровайдеров (Issue 38).
- Выполнил: Пользователи жалуются что когда пытаются добавить запись в ССУ, есть проблема, определить к какой области относиться город.
Добавил, что бы в интерфейсе добавления и редактирования записей в ССУ, в списке кроме названия города отображалось так же и название области. 
Как сейчас: Алексеевка
Как хотелось бы: Алексеевка, Кировоградская обл. (Issue 39)

v5.45.12 (23.11.14)
- Добавил новое поле:  tab_klients.noNds int(1) по умолчанию = 0
Если в поле будет 1 - клиент не платит НДС, Если  0  - платит.
- В программу учета документов, в  форму открываемую по адресу: "Справочники клиенты" в форму добавления и редактирования добавил галочку "Не платит НДС", значение из этого поля сохраняется в tab_klients.noNds

v5.45.13 (4.12.14)
- Форма Добавить\Изменить ССУ, кн."Добавить Доп.Договор": будет открыт, если выбран "Договор".

v5.45.14 (12.12.14)
- Исправил ошибку: в Сетевых Соединениях не верно подвязывалиcь устройства (не верно определялся id_equip).

v5.45.15 (19.12.14)
- Исправил ошибку: в Сетевых Соединениях не верно подвязывалиcь устройства (не верно определялся id_equip) при редактировании записи.

v5.45.16-17 (22.12.14)
- Исправил ошибку: в Сетевых Соединениях добавил обязательные поля Устройство А и Б.

v5.45.18 (12.02.15)
- Добавил видимость для пользователей с уровнем "0" на кнопки "Добавить запись" и "Вывести из подчиненных" в закладке Поиск ТТ.

v5.45.19 (10.03.15)
- самой оптимальной будет такое размещение полей в разделе записи в ТТ, расставил их в таком порядке в системе ТТ:
1.Дата
2.Время
3.Внес
4.Контактировал с
5.Выполненно

v5.45.20 (11.03.15)
- Исправил ошибку: при редактировании доп договора слетала привязка к договору.

v5.45.21 (11.03.15)
- Исправил ошибку: при добавлении доп договора не верно определялся ID договора.

v5.45.22 (12.03.15)
- Активные, выбор рабочего места: убрал нечуствительность к регистру и частитчное совпадение со строкой.

v5.45.23 (13.03.15)
- Активные, все плохо с назначением ТТ: исправил ошибку.

v5.45.24 (15.03.15)
На экранах с низцим разрешением проявилась проблема, когда два раза щелкаешь на ТТ, информационное окно появляется вне поля видимости. 
Решение: принудительно выставляю это окно в первый раз после запуска программы в центр экрана, дальше пользователь может его двигать куда угодно.

v5.45.25 (16.03.15)
Исправил ошибку: Закладка Сервис Клиентов, добавление записи в поле "Клиент" нет экранирования кавычек, нет возможности вводить новые СК.

v5.45.26 (1.04.15)
Issue 45: Модернизация для системы ТТ, не пускать в систему тех у кого деактивированна учетная запись:  tab_access.activated = '0'. Пускать тех у кого активированна '1'.

v5.45.27 (8.06.15)
Issue 47: Сделал доступной кнопку "Вывести из отложенных" для пользователей уровня "0" в закладке "Поиск ТТ"

v1.9.9 (10.06.15) - Server
- Изменить шаблон письма при отправке email уведомления только при открытии ТТ, убрать строчку с датой временем открытия (#48)

v5.45.28 (11.06.15)
- Не показывает весь список договоров (закладка Сервисы субпровайдера) при редактировании записи (#49).

v5.45.29 (12.06.15)
- Добавить проверку на дубляж при привязке ТТ к объекту у  которого уже есть открытый ТТ. (#50).

v5.45.30 (15.06.15)
- Добавить кнопку "Назначить ответстсвенного" и "Перейти к объекту" в закладке "Поиск ТТ" для пользователей уровня 2 и 5 #51

v5.45.31 (16.06.15)
- Добавить поле "Ответственный" в закладку "Поиск ТТ (#52)

v5.45.32 (17.06.15)
- Экранировать кавычки при создании Договора в каталоге Договоров (#53)

v5.45.33 (23.06.15)
- Добавте пожалуйста в след. версии Klientdb, во вкладке спутникового сектора спутник Amos3 

v5.45.34 (24.06.15)
- Добавить проверку на дубляж при привязке ТТ к объекту у  которого уже есть открытый ТТ. (#50)

v5.45.35-37 (24.06.15 - 2.07.15)
- Не показывает весь список договоров (закладка Сервисы субпровайдера) при редактировании записи (#49).

v1.9.10 (13.07.15) - Server
Засбоила рассылка отчетов по СтОП #58

v5.45.38 (13.07.15)
Ошибки в суммах платежей в БЭ (от 7.07.15)

v5.45.39 (11.08.15)
Фильтрация областей в Форме добавления города в систему ТТ #61

v5.45.40 (17.08.15)
Система ТТ и windows 8.1 разность отображения #59

v5.45.41 (26.08.15)
Статусы ТТ #55

v5.45.42 (27.08.15)
Статусы ТТ #55 (доработки)

v5.45.43 (28.08.15)
Статусы ТТ #55 (доработки)

v5.45.44 (31.08.15)
Статусы ТТ #55 (доработки)

v1.9.11 (31.08.15) - Server
Статусы ТТ #55

v5.45.45 (2.09.15)
Статусы ТТ #55 (доработки)

v5.45.46 (2.09.15)
Добавить название области во всплывающее информационное окно на СУ #63

v5.45.47 (4.09.15)
Статусы ТТ #55 (доработки)
База данных для СТОП, изменить на СК, значение в инфо блоке "Привязать" СК (мелочь) #66
Добавить инфо о Менеджере и Номере задачи планера, в информационное окно ОК #65
Добавить проверку на дубляж при привязке ТТ к объекту у которого уже есть открытый ТТ. #50

v5.45.48 (7.09.15)
Статусы ТТ #55 (исправил ошибку)

v5.45.49 (9.09.15)
Статусы ТТ #55 (исправил ошибку)

v5.45.50 (21.09.15)
Статусы ТТ #55 (исправил ошибку)

v5.45.51 (22.09.15)
Статусы ТТ #55 (исправил ошибку)

v5.45.52 (23.09.15)
Пользователи с квадратными мониторами жалуются на недоступность поля поиска в БАЗА -> СК #70

v5.45.53 (24.09.15)
Добавить поля "Тип наряда" и "Cектор" в закладку Trouble Ticket -> Все выезды #71

v5.46 (7.10.15)
SLA каталог ввести в систему #56

v5.46.01 (31.10.15)
SLA каталог ввести в систему #56

v5.46.02 (13.11.15)
SLA каталог ввести в систему #56 (исправил ошибку)

v5.46.03 (1.12.15)
исправил ошибку: экранирование в з-ке Субпровайдеры.

v5.46.04 (11.12.15)
Исправил ошибку: сделал окна модальными при привязке ТТ к объекту.

v5.46.05 (21.12.15)
Уровни доступа к заклабке Сервисы субпровайдеров #74

v5.46.06 (24.12.15)
Что бы в закладке СТОП, пользователям уровня 0 и 1 запретить копировать в буфер все что на экране , а так же убрать кнопку импорт в ексель.

v5.46.07 (14.01.16)
Исправил ошибку: привязка сервиса клиента к ТТ.

v5.46.08 (15.01.16)
Окно Trouble Ticket -> Аварийки, добавить метки о типе SLA и изменить сортировку #75

v5.46.09 (18.01.16)
Основное окно, Статистика -> загрузка -> график Записи, убрать записи автомата и от email юзеров #76

v5.46.10 (19.01.16)
- Trouble Ticket -> Аварийки, добавить функционал сортировки для всех полей #77
- База -> Сервисы клиента, добавить столбик с СЛА #78

v5.46.11 (22.01.16)
CID уменьшить вероятность дубляжей #80

v5.46.12 (25.01.16)
Trouble Ticket -> Аварийки, добавить функционал сортировки для всех полей #77

v5.46.13 (27.01.16)
Добавить причину инцидента в email оповещение при закрытии ТТ #79 (добавление зачения в поле type_2_d)
Иправил ошибку #77

v5.46.14 (27.01.16)
Trouble Ticket -> Аварийки, добавить функционал сортировки для всех полей #77

v5.46.15 (29.01.16)
Исправил ошибку в з-ке Закрыть ТТ

v5.46.16 (02.02.16)
Добавить причину инцидента в email оповещение при закрытии ТТ #79

v5.46.17 (05.02.16)
Ввести в систему ТТ понятие прогнозирование причины и сроков инцидента с учетом сроков SLA #83

v5.46.18 (08.02.16)
Вывести из эксплуатации кнопку "Отложить" в закладке активных ТТ #84

v5.46.19 (10.02.16)
Вывести из эксплуатации кнопку "Отложить" в закладке активных ТТ #84

v5.46.20 (11.02.16)
Ввести в систему ТТ понятие прогнозирование причины и сроков инцидента с учетом сроков SLA #83
Десктоп приложение, не передавать отложенные по новому ТТ при разлогинивании оптом. #86

v5.46.21 (12.02.16)
Добавить новые параметры SLA при двойном щелчке на Активный ТТ или на СК #85

v5.46.22 (16.02.16)
Прогнозируемые сроки устранения аварии, сделать их покак как в СЛА #88

v5.46.25 (18.02.16)
В информационное окно добавить скорость субпровайдера. #91

v5.46.26 (18.02.16)
Статусы ТТ #55

v5.46.29 (25.02.16)
Программа не требует заполнения поля  Причина закрытия, можно закрывать не заполняя.
Верни проверку это поле обязательно к заполнению в нем должно быть не меньше 5 символов.

v5.46.30 (26.02.16)
Все выезды, фильтр "Сортировка" не все выезды показывает #81

v5.46.31 (1.03.16)
Все выезды, фильтр "Сортировка" не все выезды показывает #81

v5.46.32 (3.03.16)
Создание нового шаблона BASE_EN #102

v5.46.33 (10.03.16)
Подсказывать инженеру что необходимо добавить в сообщение English версию при добавление записи в ТТ с "Отослать что сделанно по email клиенту" #105

v5.46.34 (11.03.16)
Добавлять английскую версию записей с transition 63 в ТТ у которого клиент имеет BASE_EN профиль (#106)

v5.46.35 (14.03.16)
- Добавлять английскую версию записей с transition 63 в ТТ у которого клиент имеет BASE_EN профиль (#106)
- "Зона ответственности" и тип ТТ во время добавления ТТ (#96)
(15.03.16)
- Ввести в систему ТТ понятие прогнозирование причины и сроков инцидента с учетом сроков SLA #83
- Помогать пользователю выбирать рабочее место при залогинивании в систему #107
- "Зона ответственности" и тип ТТ во время добавления ТТ (#96)
(16.03.16)
- "Живой" фильтр во вкладке "Все за период" #95
- Вывести из эксплуатации кнопку "Отложить" в закладке активных ТТ #84

v5.46.36 (17.03.16)
- Исправил ошибку (e-mail): Привет 1 глять эти два письма, эти два ТТ, в каком случае клиенту может слаться срок устранения 1899 год ?
- Статусы ТТ (#55)
(18.03.16)
- Причина открытия офиса клиента во вкладке "Активные" #92

v5.46.37 (23.03.16)
- Добавлять английскую версию записей с transition 63 в ТТ у которого клиент имеет BASE_EN профиль #106
(25.03.16)
- Статусы ТТ (#55)

v5.46.38 (28.03.16)
- Закладка Аварийки -> все выезды, добавить сортировку по полям #112
- Ввести в систему ТТ понятие прогнозирование причины и сроков инцидента с учетом сроков SLA #83
(29.03.16)
- Изменять статус ОК, при изменении статуса СК #113
- Починить фиксацию полей в отображении База, спутниковый интерфейсе #114

v5.46.39 (29.03.16)
- Надежность подсчета переработок, повысить #111
(30.03.16)
- Назначение ТТ на группу, когда в группе нет ни одного доступного рабочего места #115

v5.46.40 (01.04.16)
Давай сделаем так что бы после нажатия ОК  в форме постановки наряда на выезд программа не переключалась  в закладку Аварийки а оставалась в закладке  Активные 

v5.46.41 (14.04.16)
Создать новую функцию для БД GetNameOfClient_em #110

v5.46.42 (19.04.16)
При попытке добавить очень длинную запись с английским текстом, обрезало строку до 255 символов при анализе.

v5.46.43 (27.04.16)
В ClientDB добавить страничку статистики для анализа показателей по SLA #117

v5.46.44 (12.05.16)
Добавить поле Класс узла в закладку База ->Тех.площадки (#118)

v5.46.45 (16.05.16)
Добавить дату истечения гарантийного обязательства перед клиентом для спутниковых модемов и передатчиков #119

v5.46.46 (17.05.16)
- Исправил ошибку: ССу экспорт в Эксель.
- Добавить дату истечения гарантийного обязательства перед клиентом для спутниковых модемов и передатчиков #119

v5.46.47 (19.05.16)
Добавить дату истечения гарантийного обязательства перед клиентом для спутниковых модемов и передатчиков #119

v5.46.48 (3.06.16)
Исправил: невозможно отредактировать запись блокирует проверка на CID если в поле CID пусто. При редактировании.

v5.46.49 (21.06.16)
Менять статус ТТ на "В работе", если я добавляю запись в ТТ и он находится в статусе "Пауза" и этот ТТ закреплен не за мной. (#121)

v5.46.50 (22.06.16)
Добавить возможность поиска в поле выбора города в закладке учета ресурса сторонних операторов (Система управления проектами)

v5.46.51 (04.07.16)
Перейти к объекту - Ошибка: ADQuery51: Field 'nclass_d' not found.

v5.46.52 (06.07.16)
СУП Система ТТ СЭ (БДСЭ)::Спутниковый интерфейс, база, добавить возможность поиска и по мак адресу тоже (http://172.16.5.118/web2project/index.php?m=tasks&a=view&task_id=709)

v5.46.53 (08.07.16)
При привязке ТТ к СС, СУ, ТП, ОК и СК в всплывающих окнах таблицы по-умолчанию должны быть пустыми. (Skype)

v5.46.54 (01.08.16)
- Возможность создавать новую запись на основании существующей, сервисы субпровайдеров (#122)
- Поиск городов сделать поиском а не выбором из списка, закладка сервисы субпровайдеров (#123)

v5.46.55 (19.08.16)
- Поиска по городу: поиск только по городу, область и страна только для отображения.(к задаче #123)

v5.46.56 (26.08.16)
- Возможность создавать новую запись на основании существующей, сервисы субпровайдеров (#122)

v5.46.57 (30.08.16)
Исправил ошибку: при добавлении СК, CID может быть равно 0 (ноль).

v5.46.58 (31.08.16)
- Изменить доступность закладки База -> Сервис #124
- Исправил ошибку: при удалении привязки ЦК, в режиме редактирования, привязка не удаляется.
 
v5.46.59 (20.09.16)
- Изменеия в Tools/Option закладка Бригада\Инсталятры:
 1) область "Ввести новую бригаду" появилась возможность редактировать поле "Состав (бригады)";
 2) область "Редактор водителей" - добавлять/редактировать водителю номер автомобиля. 
- Исчезает символ "\" в форме добавления и редактирования записи в СК #125
- Отключить проверку на выбранную зону ответственности при нажатии кнопки "Создать ТТ для записи" #126

v5.46.60 (27.09.16)
Исправил ошибку: Записи вида Привязан к объекту: в ТТ нет, но подвязка состоялась успешно.

v5.46.61 (28.09.16)
Доработкии вокруг доп договоров в учете ССУ (#127)

v5.46.62 (04.10.16)
При добавлении\редактировании записи в з-ках ОК и Клиенты(ССС) поле "Адрес" разбилось на два поля: "Адрес", "дом". Хранятся данные в одном поле office_kli.street.

v5.46.63 (13.10.16)
Подсказывать пользователю что нужно изменить статус ТТ (#128)

v5.46.64 (18.10.16)
Подсказывать пользователю что нужно изменить статус ТТ (#128)

v1.9.27 (4.11.16) - Server
Созданием нового шаблона email оповещения (CrAgrcl) силами серверной части (#131)

v5.46.65 (4.11.16)
- Созданием нового шаблона email оповещения (CrAgrcl) силами серверной части (#131)
- При добавлении записи в Активных записи обновлять, но без потери фокуса на выбранной заранее записи.
- Подсказывать пользователю что нужно изменить статус ТТ (#128)
- речь идет о поле выбора отказавшего устройства при закрытии ТТ. Если можно сделай что бы по полю выбора устройства проводился поиск если вставил курсор в него  и начал набирать.

v5.46.66 (11.11.16)
- Добавление записи в подчиненный ТТ #129
- Апдейтить состояние просмотрено/не просмотрено ТТ при добавлении записи в подчиненный ТТ #132

v5.46.67 (14.11.16)
- Прогнозировать срок устранения аварии при добавлении официальной версии аварии #130
- Добавить # в окно всплывающее при двойном тапе на ТТ открытый на СК, ОК, СУ, СС #133

v5.46.68 (22.11.16)
- Добавление записи в подчиненный ТТ #129
- Введение в систему понятия сегмент рынка (розница, корп, опт, смб) #134

v5.46.69 (24.11.16)
- Введение в систему понятия сегмент рынка (розница, корп, опт, смб) #134

v5.46.70 (8.12.16)
- Показывать в интерфейсе при открытии ТТ тип бизнеса : Разработка #10343
- В каталоге партнеров, смени подпись поля с "Тип бизнеса" на "Сегмент бизнеса" : Разработка #10343

v5.46.71 (20.12.16)
Поле "Дом" должно получать фокус при переходе кнопкой Tab : Изменение #10409

v5.46.72 (22.12.16)
Добавить в статистику по SLA поле "Тип услуги" : Разработка #10383

v5.46.73 (28.12.16)
Поменял структуру расширенного поиска в ССу  : Ошибка #10422

v5.46.74 (13.01.17)
Иногда (довольно регулярно) не сохраняетс я отчет о выезде аварийной группы   : Ошибка #10463

v5.46.75 (15.01.17)
При смене ответственного за договор, менять его и во всех доп.договорах  #10462

v5.46.76 (20.01.17)
#10494, #10497, #10499.

v5.46.77 (24.01.17)
#10507

v5.46.78 (25.01.17)
#10509

v5.46.79 (26.01.17)
#10521, 10527

v5.46.80 (30.01.17)
#10537

v5.46.81 (31.01.17)
#10543

v5.46.82 (2.02.17)
#10556

v5.46.83 (6.02.17)
#10571

v5.46.84 (7.02.17)
#10388

v5.46.85 (9.02.17)
#10596

v5.46.86 (12.02.17)
#10590

v5.46.87 (13.02.17)
#10609

v5.47 (15.02.17)
#10558

v5.47.01 (16.02.17)
#10618

v5.47.02 (16.02.17)
#10558

v5.47.03 (17.02.17)
#10558, #10637

v5.47.04 (20.02.17)
#10643

v5.47.05 (24.02.17)
#10638

v5.47.06 (28.02.17)
#10749, #10750, #10754, #10755

v5.47.07 (9.03.17)
#10791

v5.47.08 (16.03.17)
#11303

v5.47.09 (23.03.17)
#10647

v5.47.10 (27.03.17)
#10647

v5.47.11 (31.03.17)
#10647

v5.47.12 (5.04.17)
#10647

v5.47.13 (10.04.17)
#10647

v5.47.14 (16.05.17)
#10491, #11901

v5.47.15 (9.06.17)
#12119

v5.47.16 (16.06.17)
заявка №1827391

v5.47.17 (21.06.17)
заявка №1831214

v5.47.18 (22.06.17)
#12280

v5.47.19 (26.06.17)
#12291

v5.47.20 (30.06.17)
При переводе ТТ в "Пауза,..." в окне заменил компоненты DateTimePicker на MaskEdit

v5.47.21 (13.07.17)
В Аварийки добавил кнопку "Сформировать (txt)"

v5.47.22 (31.07.17)
При переводе ТТ в "Пауза,..." исправил ошибку при трансформации времени (из String -> DateTime)  

v5.47.23 (02.08.17)
В меню Report добавил "Отчет по всем ТТ обработанных за день"                           

v5.47.24 (04.08.17)
В з-ку ССУ добавил кнопку "Экспорт в CSV"

v5.47.25 (11.08.17)
Ошибка в з-ке Спутник\Клиенты: "Duplicate entry '24677' for key PRIMARY"

v5.47.26 (15.08.17)
- добавил п.меню "Отчет по всем ТТ обработанных за день" (отчет Лутченко)
- Сделал поле "№ впланере" обязательным к заполнению для ТП,СУ,ОК,СК,ССу и Спутников.
- Статистика.Статистика по SLA: исправил выгрузку данных в Excel-файл, высота ячеек больше не скачет.
- Добавил поле "Область Б" в закладку ССу
- Исправил: при создании ТТ в описании если былои - "(кавычки) - то ставало - \" (экранирование кавычек)
- Исправил: Спутник\Клиент в Tooway не было поля active_date

v5.47.27 (17.08.17)
Исправил: в "Все за период" не верно подсчитывался "простой". Теперь в XLS-файл выгружаются данные где в "простой" учитываются "Пауза, клиент". 

v5.47.28 (18.08.17)
- Добавил возможность переподвязывать ТТ к объектам для пользователей с уровнем 2 и 5
- В з-ке "Все за период" добавил поля "Груповой" (master_tt), "Подчиненный" (depend_lbl), "№ групового ТТ" (depend_on).
- В з-ку ССу, в расширенный поиск, добавил поле "Облась Б".

v5.47.29 (23.08.17)
- Добавил статус "Дубляж" во все закладки БАЗА 
- при отсутствии галочки "Показывать демонтированные" не показуются записи с статусом "демонтированные" и "дубляж"
- содавать ТТ на записи с статусом "Дубляж"- запрещено.
- з-ка "Все за период" поле "простой" считается правильно (с учетом "Пауза,клиент").
- з-ка "Все за период" добавил поле "область"

v5.47.30 (30.08.17)
- Подправил: при создании ТТ в описании если былои - "(кавычки) - то ставало - \" (экранирование кавычек)
- Подправил: подсчет "простоев", с учетом не верно закрытого ТТ (из состояния "Пауза,...")
- з-ка ССу, увеличил ширну поля "№" с 4 до 7 символов.
- В меню Report в "Отчет по всем ТТ обработанных за день" добавил кнопку "Данные по "остаткам" ТТ на текущее время"

v5.47.31 (08.09.17)
- з-ка ССу: добавил поле "Тип задачи"      

v5.47.32 (20.09.17)
- Добавить поле "Область" в Статистика/Статистика по SLA
- ССу: дубляж записи не исчезал при поиске через "Р"                      

v5.47.33 (25.09.17)
- Добавить поле "Область" в Статистика/Статистика по SLA
- Добавил поле "Изменение статуса" в отчете Report/ Отчет по всем ТТ отработанных за день/ Данные по остаткам ТТ на текущее время.

v5.47.34 (02.10.17)
- Исправил ошибку: при закрытии наряда РУ не верно конвертилось время.

v5.47.35 (04.10.17)
- Исправил auto_update, будет скачивать файл по http

v5.47.36 (05.10.17)
- Добавить поле "Город" в Статистика/Статистика по SLA

v5.47.37 (27.10.17)
- Исправил ошибку: в Активных при фильрации по полю Клиент : "Null не конвертится в String".

v5.47.38 (16.11.17)
- Добавил в з-ку Все за период, поля: "Отложено,мин" "В работе, мин" "Пауза,партнер,мин" "Пауза,клиент,мин"(вместо поля "Простой сервиса") "Решено,мин"
- исправил выгрузку в XLS и фильтрацию по Просотям.

v5.47.39 (20.11.17)
- З-ка "Аварийки": при закрытии программы сохраняется рабочее место бригады и при открытии - это место подгружается.

v5.47.40 (21.11.17)
- З-ка ССу: при подсчете суммы не учитываются записи "статус" = "отказ клиента"(13)
- в меню tools\options.. в з-ке "Бригады\Инсталяторы": 
   a) добавил поле town(город) в таблицу и в редактирование;
   b) при редактировании запись фокус не меняется после сохранения изменений.

v5.47.41 (22.11.17)
- з-ка Все выезды: добавил поле "Бригада из..."(Город) в таблицу и в экспорт ексель.
- з-ка Аварийки: в "поиск бригада" заменил область обслуживания на город.

v5.47.42 (27.11.17)
- з-ка Аварийки, поле Выбор блигады: при выборе города, во второй выпадающий список добавил слово "Все". При выборе города + Все -> появятся все выезды по городу.
- Добавил поле "Мониторинг" в формы редактирования СУ (по умолчанию есть) и Клиенты(ССС) (по умолчанию нет). 
- в меню tools\options.. в з-ке "Бригады\Инсталяторы": удалил кнопку "Удалить".

v5.47.43 (12.12.17)
- AutoUpdate
v5.47.44 (12.12.17)
- AutoUpdate

v5.47.45 (26.12.17)
- Добавил поле "Код" в з-ку Тех.Площадки и в отображении (двойной щелчек на записи)

v5.47.46 (27.12.17)
- Исправил ошибку: з-ка Спутник\Клиенты, Редактирование, экранировал поле "Контакты".

v5.47.47 (29.12.17)
- tblinform2: добавил поле nclass (ссылка на tab_nclass.id)
- Тех.Площадки: код узла изменился на UA-CHG-03-0001452-D

v5.47.48 (04.01.18)
- Предотвратить появление пробелов и переносов строки в адресе офиса клиентов

v5.47.49 (05.01.18)
- Перенеси пожайлуста в закладке Тех площадки, поле "Код" в самый конец справа.
- Добавь код узла в форму редактирования тех площадок, в самой верхней строчке сразу за фразой "Редактировать узел", пусть будет "Редактировать узел UA-KIE-03-1234567-D

v5.48 (15.01.18)
Таблица trubl_crew:
- Состав  бригады сохраняется в поле staff в виде ссылок на записи в tab_access через точку с запятой (;). Также в виде текста в полях: staff_1,staf_2,staff_3.
- в поле gen_system хранится id из tab_catalogs, в котором хранится название системы (bdse,sd,...)
- В поле gen_system_id хранится ID той ситсемы, из которой эта запись попала в KlientsDB.
- при постановке задачи на выезд в ручную, можно выбрать систему и ID в этой системе.
- В з-ку Все выезды добавил в конце три поля staff_1,staf_2,staff_3 (участники бригады)

v5.48.01 (16.01.18)
- в "Бригада на выезд" заменил: "ID в системе" на "ID в ServiceDesk", убрал поле "Система"
- если в поле "ID в ServiceDesk" не "0", то автоматом система = sd, иначе - bdse
- в Аварийках в поле Клиент: если заявка из sd, то вписывается "SD - , Адрес назначения" 
- в Все выезды: добавил поле "ID из системы" (trubl_crew.gen_system_id)
- З-ка Tools/Options Бригады\Инсталяторы: При редактировании записи, даблица переводится в состояние Enbled=false (не доступна), при сохранении изменений - возвращается в нормк.

v5.48.02 (18.01.18)
- добавил возможность просматривать "количество ТТ с выездом" в отчет "за день"
- сделал косметические изменения а з-ах "Аварийки" и "Все выезды"

v.5.48.03 (19.01.18)
- з-ка Аварийки, форма отчета: добавил кн. Cancel.
- з-ка Аварийки, форма отчета: списки инженеров заполняются только активированными записями.
- Tools/Options, Инженеры\Инсталляторы: вместо "не доступна" в списке, стало "расформированно".

v.5.48.04 (23.01.18)
- в Все выезды: добавил поле "область" после поля "Бригада из..."

v.5.48.05 (25.01.18)
- Добавил уровень доступа №6 (Диспетчер)

v.5.48.06 (7.02.18)
- исправил ошибку: отображение ответственного в з-ке Все за период.
- исправил ошибку: в Все за период инженеры отображались с маленькой буквы.
- исправил ошибку: в Аварийки название бригады отображались с маленькой буквы.

v.5.48.07 (12.02.18)
- исправил ошибку: Активные, п.меню Перейти к объекту, для Сетевых соединений.
- добавил поля в таблицу tblinform2: nims_id varchar(100), sap_id varchar(100).
- Добавил эти поля в ClientsDB.
- З-ка Добавить ТТ: не активна, если в нее перейти по нажатию мышки на закладку, активна, если перешли по кн. Создать ТТ для записи

v.5.48.08 (22.02.18)
- добавил поле в таб. trubl_crew: overtime_min int(10) "количество минут переработки"
- Подсчет переработок:
1) в поле overtime_min записывается количество переработанных минут
2) в поле overtime записывается количество переработанных часов и высчитываются так: overtime_min/60, берется целая часть, дробная отбрасывается 
- При запуске БДСЄ что бы окно появлялось по центру экрана: Сделал признак формы Position = [poScreenCenter], был [poDesktopCenter]
- З-ка ТП, форма Добавления/Редактирования:
1) в поле "Формуляр" можно добавлять "ссылки" на прямую (без кнопки),
2) в форме Просмотра (двойной щелчек на записи) при нажатии на слово "Формуляр" произойдет переход по ссылке (в браузер)